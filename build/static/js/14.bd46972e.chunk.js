/*! For license information please see 14.bd46972e.chunk.js.LICENSE.txt */
(this["webpackJsonpbitcoin-price-betting"]=this["webpackJsonpbitcoin-price-betting"]||[]).push([[14,24,25],{1977:function(e,t){},2001:function(e,t,r){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!==i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!==i--;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}},2002:function(e,t,r){"use strict";var n=function(e){return null!==e&&"object"===typeof e&&"function"===typeof e.pipe};n.writable=function(e){return n(e)&&!1!==e.writable&&"function"===typeof e._write&&"object"===typeof e._writableState},n.readable=function(e){return n(e)&&!1!==e.readable&&"function"===typeof e._read&&"object"===typeof e._readableState},n.duplex=function(e){return n.writable(e)&&n.readable(e)},n.transform=function(e){return n.duplex(e)&&"function"===typeof e._transform},e.exports=n},2003:function(e,t){},2011:function(e,t,r){"use strict";var n=r(62),i=r(63),o=r(101),a=r(102),s=r(459);Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;var c=r(460),u=function(e){o(r,e);var t=a(r);function r(e,i,o){var a;if(n(this,r),!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!i||"string"!==typeof i)throw new Error('"message" must be a nonempty string.');return(a=t.call(this,i)).code=e,void 0!==o&&(a.data=o),a}return i(r,[{key:"serialize",value:function(){var e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}},{key:"toString",value:function(){return c.default(this.serialize(),h,2)}}]),r}(s(Error));t.EthereumRpcError=u;var l=function(e){o(r,e);var t=a(r);function r(e,i,o){if(n(this,r),!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');return t.call(this,e,i,o)}return i(r)}(u);function h(e,t){if("[Circular]"!==t)return t}t.EthereumProviderError=l},2012:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},2013:function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n=r(33),i=r.n(n),o=r(79),a=r.n(o),s=r(80),c=r.n(s),u=r(35),l=r.n(u),h=r(115),d=r.n(h),f=r(128),p=r.n(f),b=r(65),g=r.n(b),y=r(25),m=r.n(y),v=r(22),O=r.n(v),j=r(18),k=r(2014),w=r.n(k);function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var i=g()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return p()(this,r)}}var I=function(e){d()(r,e);var t=S(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a()(this,r),e=t.call(this),m()(l()(e),"clientId",void 0),e.clientId=n.clientId,e}return c()(r,[{key:"authenticateUser",value:function(){var e=i()(O.a.mark((function e(){var t,r,n,i,o,a,s,c,u,l,h;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.provider&&null!==(t=this.chainConfig)&&void 0!==t&&t.chainId){e.next=2;break}throw j.l.notConnectedError();case 2:if(r=this.chainConfig,n=r.chainNamespace,i=r.chainId,this.status===j.d.CONNECTED){e.next=5;break}throw j.l.notConnectedError("Not connected with wallet, Please login/connect first");case 5:return e.next=7,this.provider.request({method:"getAccounts"});case 7:if(!((o=e.sent)&&o.length>0)){e.next=27;break}if(!(a=Object(j.q)(o[0],this.name))){e.next=14;break}if(Object(j.n)(a)){e.next=14;break}return e.abrupt("return",{idToken:a});case 14:return s={domain:window.location.origin,uri:window.location.href,address:o[0],chainId:parseInt(i,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:(new Date).toISOString()},e.next=17,Object(j.u)(s,n);case 17:return c=e.sent,u=(new TextEncoder).encode(c),e.next=21,this.provider.request({method:"signMessage",params:{message:u,display:"utf8"}});case 21:return l=e.sent,e.next=24,Object(j.w)(n,w.a.encode(l),c,this.name,this.sessionTime,this.clientId);case 24:return h=e.sent,Object(j.t)(o[0],this.name,h),e.abrupt("return",{idToken:h});case 27:throw j.l.notConnectedError("Not connected with wallet, Please login/connect first");case 28:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=i()(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===j.d.CONNECTED){e.next=2;break}throw j.l.disconnectionError("Not connected with wallet");case 2:return e.next=4,this.provider.request({method:"getAccounts"});case 4:(t=e.sent)&&t.length>0&&Object(j.o)(t[0],this.name);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(j.e)},2014:function(e,t,r){var n=r(2015);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},2015:function(e,t,r){"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var a=e.length,s=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===s;)n++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var h=0,d=o-1;(0!==l||h<i)&&-1!==d;d--,h++)l+=a*u[d]>>>0,u[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=h,r++}for(var f=o-i;f!==o&&0===u[f];)f++;for(var p=new Uint8Array(n+(o-f)),b=n;f!==o;)p[b++]=u[f++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var h=t[i],d=0,f=c-1;(0!==h||d<n)&&-1!==f;f--,d++)h+=256*l[f]>>>0,l[f]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=c-n;p!==c&&0===l[p];)p++;for(var b=s.repeat(r);p<c;++p)b+=e.charAt(l[p]);return b},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},2023:function(e,t){},2024:function(e,t){},2079:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var n=r(2012),i=r(2011),o=n.errorCodes.rpc.internal,a="Unspecified error message. This is a bug, please report it.",s={code:o,message:c(o)};function c(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if(Number.isInteger(e)){var i=e.toString();if(d(n.errorValues,i))return n.errorValues[i].message;if(l(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function u(e){if(!Number.isInteger(e))return!1;var t=e.toString();return!!n.errorValues[t]||!!l(e)}function l(e){return e>=-32099&&e<=-32e3}function h(e){return e&&"object"===typeof e&&!Array.isArray(e)?Object.assign({},e):e}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=c,t.isValidCode=u,t.serializeError=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.fallbackError,a=void 0===o?s:o,l=n.shouldIncludeStack,f=void 0!==l&&l;if(!a||!Number.isInteger(a.code)||"string"!==typeof a.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof i.EthereumRpcError)return e.serialize();var p={};if(e&&"object"===typeof e&&!Array.isArray(e)&&d(e,"code")&&u(e.code)){var b=e;p.code=b.code,b.message&&"string"===typeof b.message?(p.message=b.message,d(b,"data")&&(p.data=b.data)):(p.message=c(p.code),p.data={originalError:h(e)})}else{p.code=a.code;var g=null===(t=e)||void 0===t?void 0:t.message;p.message=g&&"string"===typeof g?g:a.message,p.data={originalError:h(e)}}var y=null===(r=e)||void 0===r?void 0:r.stack;return f&&e&&y&&"string"===typeof y&&(p.stack=y),p}},2245:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return se}));var n=r(60),i=r(5),o=r(6),a=r(20),s=r(10),c=r(11),u=r(12),l=r(25),h=r.n(l),d=r(2246),f=r(1972),p=r(351),b=r(152),g=r(2268),y=r(2002),m=r(503),v=r.n(m),O=r(300),j=r.n(O),k=r(2001),w=r.n(k);function S(){S=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(x){c=function(e,t,r){return e[t]=r}}function u(e,t,r,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new E(i||[]);return n(a,"_invoke",{value:j(e,r,s)}),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var b={};c(b,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(_([])));y&&y!==t&&r.call(y,o)&&(b=y);var m=p.prototype=d.prototype=Object.create(b);function v(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){var i;n(this,"_invoke",{value:function(n,o){function a(){return new t((function(i,a){!function n(i,o,a,s){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}(n,o,i,a)}))}return i=i?i.then(a,a):a()}})}function j(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return P()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=k(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function k(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return f.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},v(O.prototype),c(O.prototype,a,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(u(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=_,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;I(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}var I={disconnected:function(){return"Torus: Lost connection to Torus."},permanentlyDisconnected:function(){return"Torus: Disconnected from iframe. Page reload required."},unsupportedSync:function(e){return"Torus: The Torus Ethereum provider does not support synchronous methods like ".concat(e," without a callback parameter.")},invalidDuplexStream:function(){return"Must provide a Node.js-style duplex stream."},invalidOptions:function(e){return"Invalid options. Received: { maxEventListeners: ".concat(e,"}")},invalidRequestArgs:function(){return"Expected a single, non-array, object argument."},invalidRequestMethod:function(){return"'args.method' must be a non-empty string."},invalidRequestParams:function(){return"'args.params' must be an object or array if provided."},invalidLoggerObject:function(){return"'args.logger' must be an object if provided."},invalidLoggerMethod:function(e){return"'args.logger' must include required method '".concat(e,"'.")}},E={connected:function(e){return'Torus: Connected to chain with ID "'.concat(e,'".')}},_="production",P="bottom-left",x="top-left",A="bottom-right",T="top-right",C={supportedVerifierList:["google","reddit","discord"],api:"https://api.tor.us",translations:{en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies ben\xf6tigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"\u7d99\u7d9a\u3059\u308b",actionRequired:"\u8a8d\u8a3c\u304c\u5fc5\u8981\u3067\u3059",pendingAction:"\u7d9a\u884c\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u3001\u30dd\u30c3\u30d7\u30a2\u30c3\u30d7\u3067\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u7d9a\u884c\u3057\u307e\u3059",cookiesRequired:"\u5fc5\u8981\u306a\u30af\u30c3\u30ad\u30fc",enableCookies:"Torus\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306e\u8a2d\u5b9a\u3067Cookie\u3092\u6709\u52b9\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002",clickHere:"\u8a73\u3057\u304f\u306f"}},ko:{embed:{continue:"\uacc4\uc18d\ud558\ub2e4",actionRequired:"\uc2b9\uc778 \ud544\uc694",pendingAction:"\ud31d\uc5c5\uc5d0\uc11c \uc694\uccad\uc744 \uc9c4\ud589\ud558\ub824\uba74 \uacc4\uc18d\uc744 \ud074\ub9ad\ud558\uc2ed\uc2dc\uc624.",cookiesRequired:"\ucfe0\ud0a4 \ud544\uc694",enableCookies:"\ube0c\ub77c\uc6b0\uc800 \ud658\uacbd \uc124\uc815\uc5d0\uc11c \ucfe0\ud0a4\ub97c \ud65c\uc131\ud654\ud558\uc5ec Torus\uc5d0 \uc561\uc138\uc2a4\ud558\uc2ed\uc2dc\uc624.",clickHere:"\ub354 \ub9ce\uc740 \uc815\ubcf4"}},zh:{embed:{continue:"\u7ee7\u7eed",actionRequired:"\u9700\u8981\u6388\u6743",pendingAction:"\u5355\u51fb\u7ee7\u7eed\u4ee5\u5728\u5f39\u51fa\u7a97\u53e3\u4e2d\u7ee7\u7eed\u60a8\u7684\u8bf7\u6c42",cookiesRequired:"\u5fc5\u586bCookie",enableCookies:"\u8bf7\u5728\u60a8\u7684\u6d4f\u89c8\u5668\u9996\u9009\u9879\u4e2d\u542f\u7528cookie\u4ee5\u8bbf\u95eeTorus\u3002",clickHere:"\u66f4\u591a\u4fe1\u606f"}}},prodTorusUrl:"",localStorageKey:"torus-".concat(window.location.hostname)},R=j.a.getLogger("solana-embed");var N=function(){return Math.random().toString(36).slice(2)},L=function(){var e=Object(u.a)(S().mark((function e(t){var r,n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="testing"===e.t0?3:"development"===e.t0?6:9;break;case 3:return r="https://solana-testing.tor.us",n="debug",e.abrupt("break",12);case 6:return r="http://localhost:8080",n="debug",e.abrupt("break",12);case 9:return r="https://solana.tor.us",n="error",e.abrupt("break",12);case 12:return e.abrupt("return",{torusUrl:r,logLevel:n});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W={height:660,width:375},z={height:740,width:1315},B={height:700,width:1200},U={height:600,width:400};function D(e){var t=e.width,r=e.height,n=void 0!==window.screenLeft?window.screenLeft:window.screenX,i=void 0!==window.screenTop?window.screenTop:window.screenY,o=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,s=Math.abs((o-t)/2/1+n),c=Math.abs((a-r)/2/1+i);return"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=".concat(r/1,",width=").concat(t/1,",top=").concat(c,",left=").concat(s)}var q=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e,n){var o;Object(i.a)(this,r);var s=n.maxEventListeners,c=void 0===s?100:s,u=n.jsonRpcStreamName,l=void 0===u?"provider":u;if(o=t.call(this),h()(Object(a.a)(o),"isTorus",void 0),h()(Object(a.a)(o),"_rpcEngine",void 0),h()(Object(a.a)(o),"jsonRpcConnectionEvents",void 0),h()(Object(a.a)(o),"_state",void 0),!Object(y.duplex)(e))throw new Error(I.invalidDuplexStream());o.isTorus=!0,o.setMaxListeners(c),o._handleConnect=o._handleConnect.bind(Object(a.a)(o)),o._handleDisconnect=o._handleDisconnect.bind(Object(a.a)(o)),o._handleStreamDisconnect=o._handleStreamDisconnect.bind(Object(a.a)(o)),o._rpcRequest=o._rpcRequest.bind(Object(a.a)(o)),o._initializeState=o._initializeState.bind(Object(a.a)(o)),o.request=o.request.bind(Object(a.a)(o)),o.sendAsync=o.sendAsync.bind(Object(a.a)(o));var d=new b.c;v()(e,d,e,o._handleStreamDisconnect.bind(Object(a.a)(o),"Torus")),d.ignoreStream("phishing");var p=Object(b.i)();v()(p.stream,d.createStream(l),p.stream,o._handleStreamDisconnect.bind(Object(a.a)(o),"Torus RpcProvider"));var m=new b.b;return m.push(Object(b.g)()),m.push((function(e,t,r){"string"===typeof e.method&&e.method||(t.error=g.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:e})),r((function(e){var r=t.error;return r?(R.error("Torus - RPC Error: ".concat(r.message),r),e()):e()}))})),m.push(Object(f.h)({origin:location.origin})),m.push(p.middleware),o._rpcEngine=m,o.jsonRpcConnectionEvents=p.events,o}return Object(o.a)(r,[{key:"request",value:function(){var e=Object(u.a)(S().mark((function e(t){var r,n,i=this;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&"object"===typeof t&&!Array.isArray(t)){e.next=2;break}throw g.ethErrors.rpc.invalidRequest({message:I.invalidRequestArgs(),data:t});case 2:if(r=t.method,n=t.params,"string"===typeof r&&0!==r.length){e.next=5;break}throw g.ethErrors.rpc.invalidRequest({message:I.invalidRequestMethod(),data:t});case 5:if(void 0===n||Array.isArray(n)||"object"===typeof n&&null!==n){e.next=7;break}throw g.ethErrors.rpc.invalidRequest({message:I.invalidRequestParams(),data:t});case 7:return e.abrupt("return",new Promise((function(e,t){i._rpcRequest({method:r,params:n},Object(b.j)(e,t))})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"send",value:function(e,t){this._rpcRequest(e,t)}},{key:"sendAsync",value:function(e){var t=this;return new Promise((function(r,n){t._rpcRequest(e,Object(b.j)(r,n))}))}},{key:"_handleStreamDisconnect",value:function(e,t){!function(e,t,r){var n='Torus: Lost connection to "'.concat(e,'".');null!==t&&void 0!==t&&t.stack&&(n+="\n".concat(t.stack)),R.warn(n),r&&r.listenerCount("error")>0&&r.emit("error",n)}(e,t,this),this._handleDisconnect(!1,t?t.message:void 0)}}]),r}(b.e),K=function(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];var a=function n(){r.apply(void 0,i),e.removeEventListener(t,n)};e.addEventListener(t,a)};function M(){return F.apply(this,arguments)}function F(){return(F=Object(u.a)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){"loading"!==document.readyState?e():K(document,"DOMContentLoaded",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(e){var t=window.document.createElement("template"),r=e.trim();return t.innerHTML=r,t.content.firstChild},G=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e){var n;Object(i.a)(this,r);var o=e.url,s=e.target,c=e.features;return n=t.call(this),h()(Object(a.a)(n),"url",void 0),h()(Object(a.a)(n),"target",void 0),h()(Object(a.a)(n),"features",void 0),h()(Object(a.a)(n),"window",void 0),h()(Object(a.a)(n),"windowTimer",void 0),h()(Object(a.a)(n),"iClosedWindow",void 0),n.url=o,n.target=s||"_blank",n.features=c||D(B),n.window=void 0,n.windowTimer=void 0,n.iClosedWindow=!1,n._setupTimer(),n}return Object(o.a)(r,[{key:"_setupTimer",value:function(){var e=this;this.windowTimer=Number(setInterval((function(){e.window&&e.window.closed&&(clearInterval(e.windowTimer),e.iClosedWindow||e.emit("close"),e.iClosedWindow=!1,e.window=void 0),void 0===e.window&&clearInterval(e.windowTimer)}),500))}},{key:"open",value:function(){var e;return this.window=window.open(this.url.href,this.target,this.features),null!==(e=this.window)&&void 0!==e&&e.focus&&this.window.focus(),Promise.resolve()}},{key:"close",value:function(){this.iClosedWindow=!0,this.window&&this.window.close()}},{key:"redirect",value:function(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}]),r}(b.e);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var J=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e,n){var o;Object(i.a)(this,r);var s=n.maxEventListeners,c=void 0===s?100:s,u=n.jsonRpcStreamName,l=void 0===u?"provider":u;o=t.call(this,e,{maxEventListeners:c,jsonRpcStreamName:l}),h()(Object(a.a)(o),"embedTranslations",void 0),h()(Object(a.a)(o),"torusUrl",void 0),h()(Object(a.a)(o),"dappStorageKey",void 0),h()(Object(a.a)(o),"windowRefs",void 0),h()(Object(a.a)(o),"tryWindowHandle",void 0),h()(Object(a.a)(o),"torusAlertContainer",void 0),h()(Object(a.a)(o),"torusIframe",void 0),o._state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){h()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r._defaultState),o.torusUrl="",o.dappStorageKey="";var d=C.translations[function(){var e=window.navigator.language||"en-US",t=e.split("-");return e=Object.prototype.hasOwnProperty.call(C.translations,t[0])?t[0]:"en"}()];o.embedTranslations=d.embed,o.windowRefs={},o.on("connect",(function(){o._state.isConnected=!0}));return o.jsonRpcConnectionEvents.on("notification",(function(e){var t=e.method,r=e.params;if(t===f.c.IFRAME_STATUS){var n=r.isFullScreen,i=r.rid;o._displayIframe({isFull:n,rid:i})}else if(t===f.c.CREATE_WINDOW){var a=r.windowId,s=r.url;o._createPopupBlockAlert(a,s)}else if(t===f.c.CLOSE_WINDOW)o._handleCloseWindow(r);else if(t===f.c.USER_LOGGED_IN){var c=r.currentLoginProvider;o._state.isLoggedIn=!0,o._state.currentLoginProvider=c}else t===f.c.USER_LOGGED_OUT&&(o._state.isLoggedIn=!1,o._state.currentLoginProvider=null,o._displayIframe())})),o}return Object(o.a)(r,[{key:"isLoggedIn",get:function(){return this._state.isLoggedIn}},{key:"isIFrameFullScreen",get:function(){return this._state.isIFrameFullScreen}},{key:"isConnected",value:function(){return this._state.isConnected}},{key:"_initializeState",value:function(){var e=Object(u.a)(S().mark((function e(t){var r,n,i,o,a,s,c,u=this;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.torusUrl,n=t.dappStorageKey,i=t.torusAlertContainer,o=t.torusIframe,this.torusUrl=r,this.dappStorageKey=n,this.torusAlertContainer=i,this.torusIframe=o,this.torusIframe.addEventListener("load",(function(){u._state.isIFrameFullScreen||u._displayIframe()})),e.next=9,this.request({method:f.b.GET_PROVIDER_STATE,params:[]});case 9:a=e.sent,s=a.currentLoginProvider,c=a.isLoggedIn,this._handleConnect(s,c),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),R.error("Torus: Failed to get initial state. Please report this bug.",e.t0);case 18:return e.prev=18,R.info("initialized communication state"),this._state.initialized=!0,this.emit("_initialized"),e.finish(18);case 23:case"end":return e.stop()}}),e,this,[[0,15,18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_handleWindow",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.url,i=r.target,o=r.features,a=new URL(n||"".concat(this.torusUrl,"/redirect?windowId=").concat(e));this.dappStorageKey&&(a.hash?a.hash+="&dappStorageKey=".concat(this.dappStorageKey):a.hash="#dappStorageKey=".concat(this.dappStorageKey));var s=new G({url:a,target:i,features:o});s.open(),s.window?(this.windowRefs[e]=s,this.request({method:f.b.OPENED_WINDOW,params:{windowId:e}}),s.once("close",(function(){delete t.windowRefs[e],t.request({method:f.b.CLOSED_WINDOW,params:{windowId:e}})}))):this._createPopupBlockAlert(e,a.href)}},{key:"_displayIframe",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isFull,r=void 0!==t&&t,n=e.rid,i=void 0===n?"":n,o={};if(r)o.display="block",o.width="100%",o.height="100%",o.top="0px",o.right="0px",o.left="0px",o.bottom="0px";else switch(o.display=this._state.torusWidgetVisibility?"block":"none",o.height="70px",o.width="70px",this._state.buttonPosition){case x:o.top="0px",o.left="0px",o.right="auto",o.bottom="auto";break;case T:o.top="0px",o.right="0px",o.left="auto",o.bottom="auto";break;case A:o.bottom="0px",o.right="0px",o.top="auto",o.left="auto";break;case P:default:o.bottom="0px",o.left="0px",o.top="auto",o.right="auto"}Object.assign(this.torusIframe.style,o),this._state.isIFrameFullScreen=r,this.request({method:f.b.IFRAME_STATUS,params:{isIFrameFullScreen:r,rid:i}})}},{key:"hideTorusButton",value:function(){this._state.torusWidgetVisibility=!1,this._displayIframe()}},{key:"showTorusButton",value:function(){this._state.torusWidgetVisibility=!0,this._displayIframe()}},{key:"_rpcRequest",value:function(e,t){var r=t,n=e;Array.isArray(n)||n.jsonrpc||(n.jsonrpc="2.0"),this.tryWindowHandle(n,r)}},{key:"_handleConnect",value:function(e,t){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{currentLoginProvider:e,isLoggedIn:t}),R.debug(E.connected(e)))}},{key:"_handleDisconnect",value:function(e,t){var r;(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e)&&(this._state.isConnected=!1,e?(r=new g.EthereumRpcError(1013,t||I.disconnected()),R.debug(r)):(r=new g.EthereumRpcError(1011,t||I.permanentlyDisconnected()),R.error(r),this._state.currentLoginProvider=null,this._state.isLoggedIn=!1,this._state.torusWidgetVisibility=!1,this._state.isIFrameFullScreen=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r))}},{key:"_handleCloseWindow",value:function(e){var t=e.windowId;this.windowRefs[t]&&(this.windowRefs[t].close(),delete this.windowRefs[t])}},{key:"_createPopupBlockAlert",value:function(){var e=Object(u.a)(S().mark((function e(t,r){var n,i,o,a,s,c,u=this;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getLogoUrl(),i=H('<div id="torusAlert" class="torus-alert--v2">'+'<div id="torusAlert__logo"><img src="'.concat(n,'" /></div>')+"<div>"+'<h1 id="torusAlert__title">'.concat(this.embedTranslations.actionRequired,"</h1>")+'<p id="torusAlert__desc">'.concat(this.embedTranslations.pendingAction,"</p>")+"</div></div>"),o=H('<div><a id="torusAlert__btn">'.concat(this.embedTranslations.continue,"</a></div>")),(a=H('<div id="torusAlert__btn-container"></div>')).appendChild(o),i.appendChild(a),s=function(){o.addEventListener("click",(function(){u._handleWindow(t,{url:r,target:"_blank",features:D(U)}),i.remove(),0===u.torusAlertContainer.children.length&&(u.torusAlertContainer.style.display="none")}))},c=function(){u.torusAlertContainer.appendChild(i)},e.next=10,M();case 10:c(),s(),this.torusAlertContainer.style.display="block";case 13:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getLogoUrl",value:function(){return"".concat(this.torusUrl,"/images/torus_icon-blue.svg")}}]),r}(q);function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}h()(J,"_defaultState",{buttonPosition:"bottom-left",currentLoginProvider:null,isIFrameFullScreen:!1,hasEmittedConnection:!1,torusWidgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1});var Y=function(e){Object(s.a)(r,e);var t=Object(c.a)(r);function r(e,n){var o;Object(i.a)(this,r);var s=n.maxEventListeners,c=void 0===s?100:s,u=n.jsonRpcStreamName,l=void 0===u?"provider":u;o=t.call(this,e,{maxEventListeners:c,jsonRpcStreamName:l}),h()(Object(a.a)(o),"chainId",void 0),h()(Object(a.a)(o),"selectedAddress",void 0),h()(Object(a.a)(o),"tryWindowHandle",void 0),o._state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){h()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r._defaultState),o.selectedAddress=null,o.chainId=null,o._handleAccountsChanged=o._handleAccountsChanged.bind(Object(a.a)(o)),o._handleChainChanged=o._handleChainChanged.bind(Object(a.a)(o)),o._handleUnlockStateChanged=o._handleUnlockStateChanged.bind(Object(a.a)(o)),o.on("connect",(function(){o._state.isConnected=!0}));return o.jsonRpcConnectionEvents.on("notification",(function(e){var t=e.method,r=e.params;t===f.e.ACCOUNTS_CHANGED?o._handleAccountsChanged(r):t===f.e.UNLOCK_STATE_CHANGED?o._handleUnlockStateChanged(r):t===f.e.CHAIN_CHANGED&&o._handleChainChanged(r)})),o}return Object(o.a)(r,[{key:"isConnected",value:function(){return this._state.isConnected}},{key:"_initializeState",value:function(){var e=Object(u.a)(S().mark((function e(){var t,r,n,i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.request({method:f.d.GET_PROVIDER_STATE,params:[]});case 3:t=e.sent,r=t.accounts,n=t.chainId,i=t.isUnlocked,this.emit("connect",{chainId:n}),this._handleChainChanged({chainId:n}),this._handleUnlockStateChanged({accounts:r,isUnlocked:i}),this._handleAccountsChanged(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),R.error("Torus: Failed to get initial state. Please report this bug.",e.t0);case 16:return e.prev=16,R.info("initialized provider state"),this._state.initialized=!0,this.emit("_initialized"),e.finish(16);case 21:case"end":return e.stop()}}),e,this,[[0,13,16,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"_rpcRequest",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t,o=e;if(!Array.isArray(o))if(o.jsonrpc||(o.jsonrpc="2.0"),"solana_accounts"===o.method||"solana_requestAccounts"===o.method)i=function(e,i){r._handleAccountsChanged(i.result||[],"solana_accounts"===o.method,n),t(e,i)};else if("wallet_getProviderState"===o.method)return void this._rpcEngine.handle(e,i);this.tryWindowHandle(o,i)}},{key:"_handleConnect",value:function(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),R.debug(E.connected(e)))}},{key:"_handleDisconnect",value:function(e,t){var r;(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e)&&(this._state.isConnected=!1,e?(r=new g.EthereumRpcError(1013,t||I.disconnected()),R.debug(r)):(r=new g.EthereumRpcError(1011,t||I.permanentlyDisconnected()),R.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r))}},{key:"_handleAccountsChanged",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e;Array.isArray(i)||(R.error("Torus: Received non-array accounts parameter. Please report this bug.",i),i=[]);var o,a=Object(n.a)(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;if("string"!==typeof s){R.error("Torus: Received non-string account. Please report this bug.",e),i=[];break}}}catch(c){a.e(c)}finally{a.f()}w()(this._state.accounts,i)||(t&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!r&&R.error('Torus: "solana_accounts" unexpectedly updated accounts. Please report this bug.',i),this._state.accounts=i,this.emit("accountsChanged",i)),this.selectedAddress!==i[0]&&(this.selectedAddress=i[0]||null)}},{key:"_handleChainChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chainId;t?"loading"===t?this._handleDisconnect(!0):(this._handleConnect(t),t!==this.chainId&&(this.chainId=t,this._state.initialized&&this.emit("chainChanged",this.chainId))):R.error("Torus: Received invalid network parameters. Please report this bug.",{chainId:t})}},{key:"_handleUnlockStateChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accounts,r=e.isUnlocked;"boolean"===typeof r?r!==this._state.isUnlocked&&(this._state.isUnlocked=r,this._handleAccountsChanged(t||[])):R.error("Torus: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:r})}}]),r}(q);function Z(e){return new Promise((function(t,r){try{var n=document.createElement("img");n.onload=function(){return t(!0)},n.onerror=function(){return t(!1)},n.src=e}catch(i){r(i)}}))}h()(Y,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});var Q=function(e){var t=e.document,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;var n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:e.location.hostname};function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(u.a)(S().mark((function e(t){var r,n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.document,n=r.querySelector('head > link[rel="shortcut icon"]'),e.t0=n,!e.t0){e.next=8;break}return e.next=7,Z(n.href);case 7:e.t0=e.sent;case 8:if(!e.t0){e.next=10;break}return e.abrupt("return",n.href);case 10:if(n=Array.from(r.querySelectorAll('head > link[rel="icon"]')).find((function(e){return Boolean(e.href)})),e.t1=n,!e.t1){e.next=16;break}return e.next=15,Z(n.href);case 15:e.t1=e.sent;case 16:if(!e.t1){e.next=18;break}return e.abrupt("return",n.href);case 18:return e.abrupt("return","");case 21:return e.prev=21,e.t2=e.catch(0),e.abrupt("return","");case 24:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}var te=function(){var e=Object(u.a)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Q(window),e.next=3,$(window);case 3:return e.t1=e.sent,e.abrupt("return",{name:e.t0,icon:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){h()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ie=["send_transaction","sign_transaction","sign_all_transactions","sign_message","connect"],oe=[f.b.SET_PROVIDER],ae=function(e){var t;try{t=window[e];var r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(n){return n&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&t&&0!==t.length}}("localStorage");!function(){var e=Object(u.a)(S().mark((function e(){var t,r,n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"undefined"!==typeof document){e.next=3;break}return e.abrupt("return");case 3:return t=document.createElement("link"),e.next=6,L("production");case 6:r=e.sent,n=r.torusUrl,t.href="".concat(n,"/frame"),t.crossOrigin="anonymous",t.type="text/html",t.rel="prefetch",t.relList&&t.relList.supports&&t.relList.supports("prefetch")&&document.head.appendChild(t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),R.warn(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}()();var se=function(){function t(){Object(i.a)(this,t);var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.modalZIndex,n=void 0===r?99999:r;h()(this,"isInitialized",void 0),h()(this,"torusAlert",void 0),h()(this,"modalZIndex",void 0),h()(this,"alertZIndex",void 0),h()(this,"requestedLoginProvider",void 0),h()(this,"provider",void 0),h()(this,"communicationProvider",void 0),h()(this,"dappStorageKey",void 0),h()(this,"isTopupHidden",!1),h()(this,"torusAlertContainer",void 0),h()(this,"torusUrl",void 0),h()(this,"torusIframe",void 0),h()(this,"styleLink",void 0),this.torusUrl="",this.isInitialized=!1,this.requestedLoginProvider=null,this.modalZIndex=n,this.alertZIndex=n+1e3,this.dappStorageKey=""}return Object(o.a)(t,[{key:"isLoggedIn",get:function(){return!!this.communicationProvider&&this.communicationProvider.isLoggedIn}},{key:"init",value:function(){var e=Object(u.a)(S().mark((function e(){var t,r,n,i,o,a,s,c,l,h,d,f,b,g,y,m,v,O,j,k,w,I,E,x,A=this,T=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=T.length>0&&void 0!==T[0]?T[0]:{},r=t.buildEnv,n=void 0===r?_:r,i=t.enableLogging,o=void 0!==i&&i,a=t.network,s=t.showTorusButton,c=void 0!==s&&s,l=t.useLocalStorage,h=void 0!==l&&l,d=t.buttonPosition,f=void 0===d?P:d,b=t.apiKey,g=void 0===b?"torus-default":b,y=t.extraParams,m=void 0===y?{}:y,v=t.whiteLabel,!this.isInitialized){e.next=3;break}throw new Error("Already initialized");case 3:return Object(p.e)(g),e.next=6,L(n);case 6:return O=e.sent,j=O.torusUrl,k=O.logLevel,R.enableAll(),R.info(j,"url loaded"),R.info("Solana Embed Version :".concat("0.3.2")),this.torusUrl=j,R.setDefaultLevel(k),o?R.enableAll():R.disableAll(),w=this.handleDappStorageKey(h),(I=new URL(j)).pathname.endsWith("/")?I.pathname+="frame":I.pathname+="/frame",E=new URLSearchParams,w&&E.append("dappStorageKey",w),E.append("origin",window.location.origin),I.hash=E.toString(),this.torusIframe=H('<iframe\n        id="torusIframe"\n        class="torusIframe"\n        src="'.concat(I.href,'"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%;\n        height: 100%; border: none; border-radius: 0; z-index: ').concat(this.modalZIndex.toString(),'"\n      ></iframe>')),this.torusAlertContainer=H('<div id="torusAlertContainer" style="display:none; z-index: '.concat(this.alertZIndex.toString(),'"></div>')),this.styleLink=H('<link href="'.concat(j,'/css/widget.css" rel="stylesheet" type="text/css">')),x=function(){var e=Object(u.a)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){try{window.document.head.appendChild(A.styleLink),window.document.body.appendChild(A.torusIframe),window.document.body.appendChild(A.torusAlertContainer),A.torusIframe.addEventListener("load",Object(u.a)(S().mark((function t(){var r;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te();case 2:return r=t.sent,A.torusIframe.contentWindow.postMessage({buttonPosition:f,apiKey:g,network:a,dappMetadata:r,extraParams:m,whiteLabel:v},I.origin),t.next=6,A._setupWeb3({torusUrl:j});case 6:c&&A.showTorusButton(),null!==v&&void 0!==v&&v.topupHide?A.isTopupHidden=v.topupHide:A.hideTorusButton(),A.isInitialized=!0,window.torus=A,e();case 11:case"end":return t.stop()}}),t)}))))}catch(r){t(r)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=28,M();case 28:return e.next=30,x();case 30:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(u.a)(S().mark((function e(){var t,r,n=this,i=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},this.isInitialized){e.next=3;break}throw new Error("Call init() first");case 3:return e.prev=3,this.requestedLoginProvider=t.loginProvider||null,this.requestedLoginProvider||this.communicationProvider._displayIframe({isFull:!0}),e.next=8,new Promise((function(e,r){n.provider._rpcRequest({method:"solana_requestAccounts",params:[n.requestedLoginProvider,t.login_hint]},Object(b.j)(e,r))}));case 8:if(r=e.sent,!(Array.isArray(r)&&r.length>0)){e.next=11;break}return e.abrupt("return",r);case 11:throw new Error("Login failed");case 14:throw e.prev=14,e.t0=e.catch(3),R.error("login failed",e.t0),e.t0;case 18:return e.prev=18,this.communicationProvider.isIFrameFullScreen&&this.communicationProvider._displayIframe(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[3,14,18,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"loginWithPrivateKey",value:function(){var e=Object(u.a)(S().mark((function e(t){var r,n,i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}throw new Error("Call init() first");case 2:return r=t.privateKey,n=t.userInfo,e.next=5,this.communicationProvider.request({method:"login_with_private_key",params:{privateKey:r,userInfo:n}});case 5:if(i=e.sent,i.success){e.next=9;break}throw new Error("Login Failed");case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(u.a)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.communicationProvider.isLoggedIn){e.next=2;break}throw new Error("Not logged in");case 2:return e.next=4,this.communicationProvider.request({method:f.b.LOGOUT,params:[]});case 4:this.requestedLoginProvider=null;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){var e=Object(u.a)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.communicationProvider.isLoggedIn){e.next=3;break}return e.next=3,this.logout();case 3:this.clearInit();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearInit",value:function(){function e(e){return e instanceof Element||e instanceof Document}e(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),e(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),e(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}},{key:"hideTorusButton",value:function(){this.communicationProvider.hideTorusButton()}},{key:"showTorusButton",value:function(){this.communicationProvider.showTorusButton()}},{key:"setProvider",value:function(){var e=Object(u.a)(S().mark((function e(t){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.communicationProvider.request({method:f.b.SET_PROVIDER,params:ne({},t)});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showWallet",value:function(){var e=Object(u.a)(S().mark((function e(t){var r,n,i,o,a=arguments;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=3,this.communicationProvider.request({method:f.b.WALLET_INSTANCE_ID,params:[]});case 3:n=e.sent,i=t?"/".concat(t):"",(o=new URL("".concat(this.torusUrl,"/wallet").concat(i))).searchParams.append("instanceId",n),Object.keys(r).forEach((function(e){o.searchParams.append(e,r[e])})),this.dappStorageKey&&(o.hash="#dappStorageKey=".concat(this.dappStorageKey)),new G({url:o,features:D(z)}).open();case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(){var e=Object(u.a)(S().mark((function e(){var t;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.communicationProvider.request({method:f.b.USER_INFO,params:[]});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initiateTopup",value:function(){var e=Object(u.a)(S().mark((function e(t,r){var n,i;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}throw new Error("Torus is not initialized");case 2:return n=N(),this.communicationProvider._handleWindow(n),e.next=6,this.communicationProvider.request({method:f.b.TOPUP,params:{provider:t,params:r,windowId:n}});case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getAccounts",value:function(){var e=Object(u.a)(S().mark((function e(){var t;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"getAccounts",params:[]});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendTransaction",value:function(){var e=Object(u.a)(S().mark((function e(t){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"send_transaction",params:{message:t.serialize({requireAllSignatures:!1}).toString("hex")}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signAndSendTransaction",value:function(){var e=Object(u.a)(S().mark((function e(t,r){var n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"send_transaction",params:{message:t.serialize({requireAllSignatures:!1}).toString("hex"),options:r}});case 2:return n=e.sent,e.abrupt("return",{signature:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var t=Object(u.a)(S().mark((function t(r){var n,i,o;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider.request({method:"sign_transaction",params:{message:r.serializeMessage().toString("hex"),messageOnly:!0}});case 2:return n=t.sent,i=JSON.parse(n),o={publicKey:new d.a(i.publicKey),signature:e.from(i.signature,"hex")},r.addSignature(o.publicKey,o.signature),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"signAllTransactions",value:function(){var t=Object(u.a)(S().mark((function t(r){var n,i,o;return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.map((function(e){return e.serializeMessage().toString("hex")})),t.next=3,this.provider.request({method:"sign_all_transactions",params:{message:n,messageOnly:!0}});case 3:return i=t.sent,o=i.map((function(t){var r=JSON.parse(t);return{publicKey:new d.a(r.publicKey),signature:e.from(r.signature,"hex")}})),r.forEach((function(e,t){return e.addSignature(o[t].publicKey,o[t].signature),e})),t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"signMessage",value:function(){var e=Object(u.a)(S().mark((function e(t){var r;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"sign_message",params:{data:t}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getGaslessPublicKey",value:function(){var e=Object(u.a)(S().mark((function e(){var t;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.request({method:"get_gasless_public_key",params:[]});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleDappStorageKey",value:function(e){var t="";if(ae&&e){var r=window.localStorage.getItem(C.localStorageKey);if(r)t=r;else{var n="torus-app-".concat(N());window.localStorage.setItem(C.localStorageKey,n),t=n}}return this.dappStorageKey=t,t}},{key:"_setupWeb3",value:function(){var e=Object(u.a)(S().mark((function e(t){var r,n,i,o,a,s,c,u=this;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R.info("setupWeb3 running"),r=new b.a({name:"embed_torus",target:"iframe_torus",targetWindow:this.torusIframe.contentWindow}),n=new b.a({name:"embed_communication",target:"iframe_communication",targetWindow:this.torusIframe.contentWindow}),i=new Y(r,{}),o=new J(n,{}),i.tryWindowHandle=function(e,t){var r=e;if(!Array.isArray(r)&&ie.includes(r.method)){if(!u.communicationProvider.isLoggedIn)throw new Error("User Not Logged In");var n=N();o._handleWindow(n,{target:"_blank",features:D(U)}),r.windowId=n}i._rpcEngine.handle(r,t)},o.tryWindowHandle=function(e,t){var r=e;if(!Array.isArray(r)&&oe.includes(r.method)){var n=N();o._handleWindow(n,{target:"_blank",features:D(W)}),r.params.windowId=n}o._rpcEngine.handle(r,t)},(a=function(e){var t=i[e],r=u;i[e]=function(e,n){var i=e.method,o=e.params,a=void 0===o?[]:o;if("solana_requestAccounts"===i){if(!n)return r.login({loginProvider:a[0]});r.login({loginProvider:a[0]}).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))}return t.apply(this,[e,n])}})("request"),a("sendAsync"),a("send"),s=new Proxy(i,{deleteProperty:function(){return!0}}),c=new Proxy(o,{deleteProperty:function(){return!0}}),this.provider=s,this.communicationProvider=c,e.next=17,Promise.all([i._initializeState(),o._initializeState(ne(ne({},t),{},{dappStorageKey:this.dappStorageKey,torusAlertContainer:this.torusAlertContainer,torusIframe:this.torusIframe}))]);case 17:R.debug("Torus - injected provider");case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),t}()}).call(this,r(40).Buffer)},2246:function(e,t,r){"use strict";r.d(t,"a",(function(){return Vt}));r(72);var n=r(283),i=r(60),o=r(15),a=r(14),s=r(28),c=r(12),u=r(10),l=r(11),h=r(5),d=r(6),f=r(2069),p=r.n(f),b=r(40),g=r(45),y=r.n(g),m=r(1970),v=r.n(m),O=r(2070),j=r(2071),k=r(1971),w=r(2091),S=(r(2072),r(2073),r(676)),I=r.n(S),E=r(382),_=r.n(E);function P(){P=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(x){c=function(e,t,r){return e[t]=r}}function u(e,t,r,i){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),s=new I(i||[]);return n(a,"_invoke",{value:j(e,r,s)}),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(x){return{type:"throw",arg:x}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var b={};c(b,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(E([])));y&&y!==t&&r.call(y,o)&&(b=y);var m=p.prototype=d.prototype=Object.create(b);function v(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){var i;n(this,"_invoke",{value:function(n,o){function a(){return new t((function(i,a){!function n(i,o,a,s){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}(n,o,i,a)}))}return i=i?i.then(a,a):a()}})}function j(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return _()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=k(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function k(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,h;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:_}}function _(){return{value:void 0,done:!0}}return f.prototype=p,n(m,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},v(O.prototype),c(O.prototype,a,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new O(u(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}var x=function(e){return b.Buffer.isBuffer(e)?e:e instanceof Uint8Array?b.Buffer.from(e.buffer,e.byteOffset,e.byteLength):b.Buffer.from(e)},A={},T={},C=R;function R(e,t){if(!e)throw new Error(t||"Assertion failed")}R.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var N={exports:{}};"function"===typeof Object.create?N.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:N.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var L=C,W=N.exports;function z(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function B(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function U(e){return 1===e.length?"0"+e:e}function D(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}T.inherits=W,T.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):z(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},T.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=U(e[r].toString(16));return t},T.htonl=B,T.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=B(i)),r+=D(i.toString(16))}return r},T.zero2=U,T.zero8=D,T.join32=function(e,t,r,n){var i=r-t;L(i%4===0);for(var o=new Array(i/4),a=0,s=t;a<o.length;a++,s+=4){var c;c="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],o[a]=c>>>0}return o},T.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},T.rotr32=function(e,t){return e>>>t|e<<32-t},T.rotl32=function(e,t){return e<<t|e>>>32-t},T.sum32=function(e,t){return e+t>>>0},T.sum32_3=function(e,t,r){return e+t+r>>>0},T.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},T.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},T.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,a=(o<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=o},T.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},T.sum64_lo=function(e,t,r,n){return t+n>>>0},T.sum64_4_hi=function(e,t,r,n,i,o,a,s){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+r+i+a+(c+=(u=u+s>>>0)<s?1:0)>>>0},T.sum64_4_lo=function(e,t,r,n,i,o,a,s){return t+n+o+s>>>0},T.sum64_5_hi=function(e,t,r,n,i,o,a,s,c,u){var l=0,h=t;return l+=(h=h+n>>>0)<t?1:0,l+=(h=h+o>>>0)<o?1:0,l+=(h=h+s>>>0)<s?1:0,e+r+i+a+c+(l+=(h=h+u>>>0)<u?1:0)>>>0},T.sum64_5_lo=function(e,t,r,n,i,o,a,s,c,u){return t+n+o+s+u>>>0},T.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},T.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},T.shr64_hi=function(e,t,r){return e>>>r},T.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var q={},K=T,M=C;function F(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}q.BlockHash=F,F.prototype.update=function(e,t){if(e=K.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=K.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},F.prototype.digest=function(e){return this.update(this._pad()),M(null===this.pending),this._digest(e)},F.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var H={},G={},V=T.rotr32;function J(e,t,r){return e&t^~e&r}function X(e,t,r){return e&t^e&r^t&r}function Y(e,t,r){return e^t^r}G.ft_1=function(e,t,r,n){return 0===e?J(t,r,n):1===e||3===e?Y(t,r,n):2===e?X(t,r,n):void 0},G.ch32=J,G.maj32=X,G.p32=Y,G.s0_256=function(e){return V(e,2)^V(e,13)^V(e,22)},G.s1_256=function(e){return V(e,6)^V(e,11)^V(e,25)},G.g0_256=function(e){return V(e,7)^V(e,18)^e>>>3},G.g1_256=function(e){return V(e,17)^V(e,19)^e>>>10};var Z=T,Q=q,$=G,ee=Z.rotl32,te=Z.sum32,re=Z.sum32_5,ne=$.ft_1,ie=Q.BlockHash,oe=[1518500249,1859775393,2400959708,3395469782];function ae(){if(!(this instanceof ae))return new ae;ie.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Z.inherits(ae,ie);var se=ae;ae.blockSize=512,ae.outSize=160,ae.hmacStrength=80,ae.padLength=64,ae.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=ee(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),l=re(ee(i,5),ne(u,o,a,s),c,r[n],oe[u]);c=s,s=a,a=ee(o,30),o=i,i=l}this.h[0]=te(this.h[0],i),this.h[1]=te(this.h[1],o),this.h[2]=te(this.h[2],a),this.h[3]=te(this.h[3],s),this.h[4]=te(this.h[4],c)},ae.prototype._digest=function(e){return"hex"===e?Z.toHex32(this.h,"big"):Z.split32(this.h,"big")};var ce=T,ue=q,le=G,he=C,de=ce.sum32,fe=ce.sum32_4,pe=ce.sum32_5,be=le.ch32,ge=le.maj32,ye=le.s0_256,me=le.s1_256,ve=le.g0_256,Oe=le.g1_256,je=ue.BlockHash,ke=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function we(){if(!(this instanceof we))return new we;je.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ke,this.W=new Array(64)}ce.inherits(we,je);var Se=we;we.blockSize=512,we.outSize=256,we.hmacStrength=192,we.padLength=64,we.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=fe(Oe(r[n-2]),r[n-7],ve(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],h=this.h[7];for(he(this.k.length===r.length),n=0;n<r.length;n++){var d=pe(h,me(c),be(c,u,l),this.k[n],r[n]),f=de(ye(i),ge(i,o,a));h=l,l=u,u=c,c=de(s,d),s=a,a=o,o=i,i=de(d,f)}this.h[0]=de(this.h[0],i),this.h[1]=de(this.h[1],o),this.h[2]=de(this.h[2],a),this.h[3]=de(this.h[3],s),this.h[4]=de(this.h[4],c),this.h[5]=de(this.h[5],u),this.h[6]=de(this.h[6],l),this.h[7]=de(this.h[7],h)},we.prototype._digest=function(e){return"hex"===e?ce.toHex32(this.h,"big"):ce.split32(this.h,"big")};var Ie=T,Ee=Se;function _e(){if(!(this instanceof _e))return new _e;Ee.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Ie.inherits(_e,Ee);var Pe=_e;_e.blockSize=512,_e.outSize=224,_e.hmacStrength=192,_e.padLength=64,_e.prototype._digest=function(e){return"hex"===e?Ie.toHex32(this.h.slice(0,7),"big"):Ie.split32(this.h.slice(0,7),"big")};var xe=T,Ae=q,Te=C,Ce=xe.rotr64_hi,Re=xe.rotr64_lo,Ne=xe.shr64_hi,Le=xe.shr64_lo,We=xe.sum64,ze=xe.sum64_hi,Be=xe.sum64_lo,Ue=xe.sum64_4_hi,De=xe.sum64_4_lo,qe=xe.sum64_5_hi,Ke=xe.sum64_5_lo,Me=Ae.BlockHash,Fe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function He(){if(!(this instanceof He))return new He;Me.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Fe,this.W=new Array(160)}xe.inherits(He,Me);var Ge=He;function Ve(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function Je(e,t,r,n,i,o){var a=t&n^~t&o;return a<0&&(a+=4294967296),a}function Xe(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function Ye(e,t,r,n,i,o){var a=t&n^t&o^n&o;return a<0&&(a+=4294967296),a}function Ze(e,t){var r=Ce(e,t,28)^Ce(t,e,2)^Ce(t,e,7);return r<0&&(r+=4294967296),r}function Qe(e,t){var r=Re(e,t,28)^Re(t,e,2)^Re(t,e,7);return r<0&&(r+=4294967296),r}function $e(e,t){var r=Ce(e,t,14)^Ce(e,t,18)^Ce(t,e,9);return r<0&&(r+=4294967296),r}function et(e,t){var r=Re(e,t,14)^Re(e,t,18)^Re(t,e,9);return r<0&&(r+=4294967296),r}function tt(e,t){var r=Ce(e,t,1)^Ce(e,t,8)^Ne(e,t,7);return r<0&&(r+=4294967296),r}function rt(e,t){var r=Re(e,t,1)^Re(e,t,8)^Le(e,t,7);return r<0&&(r+=4294967296),r}function nt(e,t){var r=Ce(e,t,19)^Ce(t,e,29)^Ne(e,t,6);return r<0&&(r+=4294967296),r}function it(e,t){var r=Re(e,t,19)^Re(t,e,29)^Le(e,t,6);return r<0&&(r+=4294967296),r}He.blockSize=1024,He.outSize=512,He.hmacStrength=192,He.padLength=128,He.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=nt(r[n-4],r[n-3]),o=it(r[n-4],r[n-3]),a=r[n-14],s=r[n-13],c=tt(r[n-30],r[n-29]),u=rt(r[n-30],r[n-29]),l=r[n-32],h=r[n-31];r[n]=Ue(i,o,a,s,c,u,l,h),r[n+1]=De(i,o,a,s,c,u,l,h)}},He.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],s=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],h=this.h[8],d=this.h[9],f=this.h[10],p=this.h[11],b=this.h[12],g=this.h[13],y=this.h[14],m=this.h[15];Te(this.k.length===r.length);for(var v=0;v<r.length;v+=2){var O=y,j=m,k=$e(h,d),w=et(h,d),S=Ve(h,d,f,p,b),I=Je(h,d,f,p,b,g),E=this.k[v],_=this.k[v+1],P=r[v],x=r[v+1],A=qe(O,j,k,w,S,I,E,_,P,x),T=Ke(O,j,k,w,S,I,E,_,P,x);O=Ze(n,i),j=Qe(n,i),k=Xe(n,i,o,a,s),w=Ye(n,i,o,a,s,c);var C=ze(O,j,k,w),R=Be(O,j,k,w);y=b,m=g,b=f,g=p,f=h,p=d,h=ze(u,l,A,T),d=Be(l,l,A,T),u=s,l=c,s=o,c=a,o=n,a=i,n=ze(A,T,C,R),i=Be(A,T,C,R)}We(this.h,0,n,i),We(this.h,2,o,a),We(this.h,4,s,c),We(this.h,6,u,l),We(this.h,8,h,d),We(this.h,10,f,p),We(this.h,12,b,g),We(this.h,14,y,m)},He.prototype._digest=function(e){return"hex"===e?xe.toHex32(this.h,"big"):xe.split32(this.h,"big")};var ot=T,at=Ge;function st(){if(!(this instanceof st))return new st;at.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ot.inherits(st,at);var ct=st;st.blockSize=1024,st.outSize=384,st.hmacStrength=192,st.padLength=128,st.prototype._digest=function(e){return"hex"===e?ot.toHex32(this.h.slice(0,12),"big"):ot.split32(this.h.slice(0,12),"big")},H.sha1=se,H.sha224=Pe,H.sha256=Se,H.sha384=ct,H.sha512=Ge;var ut={},lt=T,ht=q,dt=lt.rotl32,ft=lt.sum32,pt=lt.sum32_3,bt=lt.sum32_4,gt=ht.BlockHash;function yt(){if(!(this instanceof yt))return new yt;gt.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function mt(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function vt(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Ot(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}lt.inherits(yt,gt),ut.ripemd160=yt,yt.blockSize=512,yt.outSize=160,yt.hmacStrength=192,yt.padLength=64,yt.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],a=this.h[4],s=r,c=n,u=i,l=o,h=a,d=0;d<80;d++){var f=ft(dt(bt(r,mt(d,n,i,o),e[jt[d]+t],vt(d)),wt[d]),a);r=a,a=o,o=dt(i,10),i=n,n=f,f=ft(dt(bt(s,mt(79-d,c,u,l),e[kt[d]+t],Ot(d)),St[d]),h),s=h,h=l,l=dt(u,10),u=c,c=f}f=pt(this.h[1],i,l),this.h[1]=pt(this.h[2],o,h),this.h[2]=pt(this.h[3],a,s),this.h[3]=pt(this.h[4],r,c),this.h[4]=pt(this.h[0],n,u),this.h[0]=f},yt.prototype._digest=function(e){return"hex"===e?lt.toHex32(this.h,"little"):lt.split32(this.h,"little")};var jt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],kt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],wt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],St=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],It=T,Et=C;function _t(e,t,r){if(!(this instanceof _t))return new _t(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(It.toArray(t,r))}var Pt=_t;_t.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),Et(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},_t.prototype.update=function(e,t){return this.inner.update(e,t),this},_t.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=T,t.common=q,t.sha=H,t.ripemd=ut,t.hmac=Pt,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(A);var xt=A,At=!1,Tt=!1,Ct={debug:1,default:2,info:2,warning:3,error:4,off:5},Rt=Ct.default,Nt=null;var Lt,Wt,zt=function(){try{var e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((function(t){try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Lt||(Lt={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Wt||(Wt={}));var Bt="0123456789abcdef",Ut=function(){function e(t){Object(h.a)(this,e),Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}return Object(d.a)(e,[{key:"_log",value:function(e,t){var r=e.toLowerCase();null==Ct[r]&&this.throwArgumentError("invalid log level name","logLevel",e),Rt>Ct[r]||console.log.apply(console,t)}},{key:"debug",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.DEBUG,r)}},{key:"info",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.INFO,r)}},{key:"warn",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._log(e.levels.WARNING,r)}},{key:"makeError",value:function(t,r,n){if(Tt)return this.makeError("censored error",r,{});r||(r=e.errors.UNKNOWN_ERROR),n||(n={});var i=[];Object.keys(n).forEach((function(e){var t=n[e];try{if(t instanceof Uint8Array){for(var r="",o=0;o<t.length;o++)r+=Bt[t[o]>>4],r+=Bt[15&t[o]];i.push(e+"=Uint8Array(0x"+r+")")}else i.push(e+"="+JSON.stringify(t))}catch(c){i.push(e+"="+JSON.stringify(n[e].toString()))}})),i.push("code=".concat(r)),i.push("version=".concat(this.version));var o=t,a="";switch(r){case Wt.NUMERIC_FAULT:a="NUMERIC_FAULT";var s=t;switch(s){case"overflow":case"underflow":case"division-by-zero":a+="-"+s;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result"}break;case Wt.CALL_EXCEPTION:case Wt.INSUFFICIENT_FUNDS:case Wt.MISSING_NEW:case Wt.NONCE_EXPIRED:case Wt.REPLACEMENT_UNDERPRICED:case Wt.TRANSACTION_REPLACED:case Wt.UNPREDICTABLE_GAS_LIMIT:a=r}a&&(t+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(t+=" ("+i.join(", ")+")");var c=new Error(t);return c.reason=o,c.code=r,Object.keys(n).forEach((function(e){c[e]=n[e]})),c}},{key:"throwError",value:function(e,t,r){throw this.makeError(e,t,r)}},{key:"throwArgumentError",value:function(t,r,n){return this.throwError(t,e.errors.INVALID_ARGUMENT,{argument:r,value:n})}},{key:"assert",value:function(e,t,r,n){e||this.throwError(t,r,n)}},{key:"assertArgument",value:function(e,t,r,n){e||this.throwArgumentError(t,r,n)}},{key:"checkNormalize",value:function(t){zt&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:zt})}},{key:"checkSafeUint53",value:function(t,r){"number"===typeof t&&(null==r&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}},{key:"checkArgumentCount",value:function(t,r,n){n=n?": "+n:"",t<r&&this.throwError("missing argument"+n,e.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+n,e.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}},{key:"checkNew",value:function(t,r){t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}},{key:"checkAbstract",value:function(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",e.errors.MISSING_NEW,{name:r.name})}}],[{key:"globalLogger",value:function(){return Nt||(Nt=new e("logger/5.6.0")),Nt}},{key:"setCensorship",value:function(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),At){if(!t)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Tt=!!t,At=!!r}},{key:"setLogLevel",value:function(t){var r=Ct[t.toLowerCase()];null!=r?Rt=r:e.globalLogger().warn("invalid log level - "+t)}},{key:"from",value:function(t){return new e(t)}}]),e}();Ut.errors=Wt,Ut.levels=Lt;var Dt=new Ut("bytes/5.6.0");function qt(e){return e.slice||(e.slice=function(){var t=Array.prototype.slice.call(arguments);return qt(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Kt(e){return"number"===typeof e&&e==e&&e%1===0}function Mt(e,t){if(t||(t={}),"number"===typeof e){Dt.checkSafeUint53(e,"invalid arrayify value");for(var r=[];e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),qt(new Uint8Array(r))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){if("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))return!1;if(t&&e.length!==2+2*t)return!1;return!0}(e)){var n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0x0"+n.substring(2):"right"===t.hexPad?n+="0":Dt.throwArgumentError("hex data is odd-length","value",e));for(var i=[],o=0;o<n.length;o+=2)i.push(parseInt(n.substring(o,o+2),16));return qt(new Uint8Array(i))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Kt(e.length)||e.length<0)return!1;for(var t=0;t<e.length;t++){var r=e[t];if(!Kt(r)||r<0||r>=256)return!1}return!0}(e)?qt(new Uint8Array(e)):Dt.throwArgumentError("invalid arrayify value","value",e)}function Ft(e){return"0x"+xt.sha256().update(Mt(e)).digest("hex")}new Ut("sha2/5.6.0");var Ht=function(){function e(t){Object(h.a)(this,e),Object.assign(this,t)}return Object(d.a)(e,[{key:"encode",value:function(){return b.Buffer.from(Object(O.serialize)(Gt,this))}}],[{key:"decode",value:function(e){return Object(O.deserialize)(Gt,this,e)}},{key:"decodeUnchecked",value:function(e){return Object(O.deserializeUnchecked)(Gt,this,e)}}]),e}(),Gt=new Map;var Vt=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;if(Object(h.a)(this,r),(n=t.call(this,{}))._bn=void 0,function(e){return void 0!==e._bn}(e))n._bn=e._bn;else{if("string"===typeof e){var i=v.a.decode(e);if(32!=i.length)throw new Error("Invalid public key input");n._bn=new y.a(i)}else n._bn=new y.a(e);if(n._bn.byteLength()>32)throw new Error("Invalid public key input")}return n}return Object(d.a)(r,[{key:"equals",value:function(e){return this._bn.eq(e._bn)}},{key:"toBase58",value:function(){return v.a.encode(this.toBytes())}},{key:"toJSON",value:function(){return this.toBase58()}},{key:"toBytes",value:function(){return this.toBuffer()}},{key:"toBuffer",value:function(){var e=this._bn.toArrayLike(b.Buffer);if(32===e.length)return e;var t=b.Buffer.alloc(32);return e.copy(t,32-e.length),t}},{key:"toString",value:function(){return this.toBase58()}}],[{key:"createWithSeed",value:function(){var e=Object(c.a)(P().mark((function e(t,n,i){var o,a;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=b.Buffer.concat([t.toBuffer(),b.Buffer.from(n),i.toBuffer()]),a=Ft(new Uint8Array(o)).slice(2),e.abrupt("return",new r(b.Buffer.from(a,"hex")));case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"createProgramAddressSync",value:function(e,t){var n=b.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=b.Buffer.concat([n,x(e)])})),n=b.Buffer.concat([n,t.toBuffer(),b.Buffer.from("ProgramDerivedAddress")]);var i=Ft(new Uint8Array(n)).slice(2),o=new y.a(i,16).toArray(void 0,32);if(Xt(o))throw new Error("Invalid seeds, address must fall off the curve");return new r(o)}},{key:"createProgramAddress",value:function(){var e=Object(c.a)(P().mark((function e(t,r){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.createProgramAddressSync(t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"findProgramAddressSync",value:function(e,t){for(var r,n=255;0!=n;){try{var i=e.concat(b.Buffer.from([n]));r=this.createProgramAddressSync(i,t)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}},{key:"findProgramAddress",value:function(){var e=Object(c.a)(P().mark((function e(t,r){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.findProgramAddressSync(t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"isOnCurve",value:function(e){return 1==Xt(new r(e).toBytes())}}]),r}(Ht);Vt.default=new Vt("11111111111111111111111111111111"),Gt.set(Vt,{kind:"struct",fields:[["_bn","u256"]]});var Jt=p.a.lowlevel;function Xt(e){var t=[Jt.gf(),Jt.gf(),Jt.gf(),Jt.gf()],r=Jt.gf(),n=Jt.gf(),i=Jt.gf(),o=Jt.gf(),a=Jt.gf(),s=Jt.gf(),c=Jt.gf();return Jt.set25519(t[2],Yt),Jt.unpack25519(t[1],e),Jt.S(i,t[1]),Jt.M(o,i,Jt.D),Jt.Z(i,i,t[2]),Jt.A(o,t[2],o),Jt.S(a,o),Jt.S(s,a),Jt.M(c,s,a),Jt.M(r,c,i),Jt.M(r,r,o),Jt.pow2523(r,r),Jt.M(r,r,i),Jt.M(r,r,o),Jt.M(r,r,o),Jt.M(t[0],r,o),Jt.S(n,t[0]),Jt.M(n,n,o),Qt(n,i)&&Jt.M(t[0],t[0],Zt),Jt.S(n,t[0]),Jt.M(n,n,o),Qt(n,i)?0:1}var Yt=Jt.gf([1]),Zt=Jt.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Qt(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return Jt.pack25519(r,e),Jt.pack25519(n,t),Jt.crypto_verify_32(r,0,n,0)}var $t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return k.blob(32,e)},er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string",t=k.struct([k.u32("length"),k.u32("lengthPadding"),k.blob(k.offset(k.u32(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=function(e,t){return r(e,t).chars.toString()},i.encode=function(e,t,r){var i={chars:b.Buffer.from(e,"utf8")};return n(i,t,r)},i.alloc=function(e){return k.u32().span+k.u32().span+b.Buffer.from(e,"utf8").length},i};function tr(e,t){var r=0;return e.layout.fields.forEach((function(e){r+=function e(r){if(r.span>=0)return r.span;if("function"===typeof r.alloc)return r.alloc(t[r.property]);if("count"in r&&"elementLayout"in r){var n=t[r.property];if(Array.isArray(n))return n.length*e(r.elementLayout)}return 0}(e)})),r}var rr,nr=(rr=8,function(e){var t=Object(k.blob)(rr,e),r=function(e){return{decode:e.decode.bind(e),encode:e.encode.bind(e)}}(t),n=r.encode,i=r.decode,o=t;return o.decode=function(e,t){var r=i(e,t);return Object(j.toBigIntLE)(b.Buffer.from(r))},o.encode=function(e,t,r){var i=Object(j.toBufferLE)(e,rr);return n(i,t,r)},o});function ir(e,t){var r=e.layout.span>=0?e.layout.span:tr(e,t),n=b.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}var or=k.nu64("lamportsPerSignature"),ar=k.struct([k.u32("version"),k.u32("state"),$t("authorizedPubkey"),$t("nonce"),k.struct([or],"feeCalculator")]),sr=ar.span,cr=new Vt("SysvarC1ock11111111111111111111111111111111"),ur=(new Vt("SysvarEpochSchedu1e111111111111111111111111"),new Vt("Sysvar1nstructions1111111111111111111111111"),new Vt("SysvarRecentB1ockHashes11111111111111111111")),lr=new Vt("SysvarRent111111111111111111111111111111111"),hr=(new Vt("SysvarRewards111111111111111111111111111111"),new Vt("SysvarS1otHashes111111111111111111111111111"),new Vt("SysvarS1otHistory11111111111111111111111111"),new Vt("SysvarStakeHistory1111111111111111111111111"));function dr(e){for(var t=0,r=0;;){var n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function fr(e,t){for(var r=t;;){var n=127&r;if(0==(r>>=7)){e.push(n);break}n|=128,e.push(n)}}var pr,br=function(){function e(t){var r=this;Object(h.a)(this,e),this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((function(e){return new Vt(e)})),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((function(e){return r.indexToProgramIds.set(e.programIdIndex,r.accountKeys[e.programIdIndex])}))}return Object(d.a)(e,[{key:"isAccountSigner",value:function(e){return e<this.header.numRequiredSignatures}},{key:"isAccountWritable",value:function(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}},{key:"isProgramId",value:function(e){return this.indexToProgramIds.has(e)}},{key:"programIds",value:function(){return Object(s.a)(this.indexToProgramIds.values())}},{key:"nonProgramIds",value:function(){var e=this;return this.accountKeys.filter((function(t,r){return!e.isProgramId(r)}))}},{key:"serialize",value:function(){var e=this.accountKeys.length,t=[];fr(t,e);var r=this.instructions.map((function(e){var t=e.accounts,r=e.programIdIndex,n=Array.from(v.a.decode(e.data)),i=[];fr(i,t.length);var o=[];return fr(o,n.length),{programIdIndex:r,keyIndicesCount:b.Buffer.from(i),keyIndices:t,dataLength:b.Buffer.from(o),data:n}})),n=[];fr(n,r.length);var i=b.Buffer.alloc(1232);b.Buffer.from(n).copy(i);var o=n.length;r.forEach((function(e){var t=k.struct([k.u8("programIdIndex"),k.blob(e.keyIndicesCount.length,"keyIndicesCount"),k.seq(k.u8("keyIndex"),e.keyIndices.length,"keyIndices"),k.blob(e.dataLength.length,"dataLength"),k.seq(k.u8("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);var a=k.struct([k.blob(1,"numRequiredSignatures"),k.blob(1,"numReadonlySignedAccounts"),k.blob(1,"numReadonlyUnsignedAccounts"),k.blob(t.length,"keyCount"),k.seq($t("key"),e,"keys"),$t("recentBlockhash")]),s={numRequiredSignatures:b.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:b.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:b.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:b.Buffer.from(t),keys:this.accountKeys.map((function(e){return x(e.toBytes())})),recentBlockhash:v.a.decode(this.recentBlockhash)},c=b.Buffer.alloc(2048),u=a.encode(s,c);return i.copy(c,u),c.slice(0,u+i.length)}}],[{key:"from",value:function(t){for(var r=Object(s.a)(t),n=r.shift(),i=r.shift(),o=r.shift(),a=dr(r),c=[],u=0;u<a;u++){var l=r.slice(0,32);r=r.slice(32),c.push(v.a.encode(b.Buffer.from(l)))}for(var h=r.slice(0,32),d=dr(r=r.slice(32)),f=[],p=0;p<d;p++){var g=r.shift(),y=dr(r),m=r.slice(0,y),O=dr(r=r.slice(y)),j=r.slice(0,O),k=v.a.encode(b.Buffer.from(j));r=r.slice(O),f.push({programIdIndex:g,accounts:m,data:k})}return new e({header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:v.a.encode(b.Buffer.from(h)),accountKeys:c,instructions:f})}}]),e}();function gr(e,t){if(!e)throw new Error(t||"Assertion failed")}!function(e){e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT"}(pr||(pr={}));var yr=b.Buffer.alloc(64).fill(0),mr=function(){function e(t){Object(h.a)(this,e),this.keys=void 0,this.programId=void 0,this.data=b.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}return Object(d.a)(e,[{key:"toJSON",value:function(){return{keys:this.keys.map((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;return{pubkey:t.toJSON(),isSigner:r,isWritable:n}})),programId:this.programId.toJSON(),data:Object(s.a)(this.data)}}}]),e}(),vr=function(){function e(t){if(Object(h.a)(this,e),this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){var r=t.blockhash,n=t.lastValidBlockHeight;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{var i=t.recentBlockhash,o=t.nonceInfo;o&&(this.nonceInfo=o),this.recentBlockhash=i}}return Object(d.a)(e,[{key:"signature",get:function(){return this.signatures.length>0?this.signatures[0].signature:null}},{key:"toJSON",value:function(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((function(e){return e.toJSON()})),signers:this.signatures.map((function(e){return e.publicKey.toJSON()}))}}},{key:"add",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(0===r.length)throw new Error("No instructions");return r.forEach((function(t){"instructions"in t?e.instructions=e.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?e.instructions.push(t):e.instructions.push(new mr(t))})),this}},{key:"compileMessage",value:function(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;var e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction].concat(Object(s.a)(this.instructions)):this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(var n=0;n<t.length;n++)if(void 0===t[n].programId)throw new Error("Transaction instruction index ".concat(n," has undefined program id"));var c=[],u=[];t.forEach((function(e){e.keys.forEach((function(e){u.push(Object(a.a)({},e))}));var t=e.programId.toString();c.includes(t)||c.push(t)})),c.forEach((function(e){u.push({pubkey:new Vt(e),isSigner:!1,isWritable:!1})}));var l=[];u.forEach((function(e){var t=e.pubkey.toString(),r=l.findIndex((function(e){return e.pubkey.toString()===t}));r>-1?(l[r].isWritable=l[r].isWritable||e.isWritable,l[r].isSigner=l[r].isSigner||e.isSigner):l.push(e)})),l.sort((function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())}));var h=l.findIndex((function(e){return e.pubkey.equals(r)}));if(h>-1){var d=l.splice(h,1),f=Object(o.a)(d,1)[0];f.isSigner=!0,f.isWritable=!0,l.unshift(f)}else l.unshift({pubkey:r,isSigner:!0,isWritable:!0});var p,b=Object(i.a)(this.signatures);try{var g=function(){var e=p.value,t=l.findIndex((function(t){return t.pubkey.equals(e.publicKey)}));if(!(t>-1))throw new Error("unknown signer: ".concat(e.publicKey.toString()));l[t].isSigner||(l[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))};for(b.s();!(p=b.n()).done;)g()}catch(I){b.e(I)}finally{b.f()}var y=0,m=0,O=0,j=[],k=[];l.forEach((function(e){var t=e.pubkey,r=e.isSigner,n=e.isWritable;r?(j.push(t.toString()),y+=1,n||(m+=1)):(k.push(t.toString()),n||(O+=1))}));var w=j.concat(k),S=t.map((function(e){var t=e.data,r=e.programId;return{programIdIndex:w.indexOf(r.toString()),accounts:e.keys.map((function(e){return w.indexOf(e.pubkey.toString())})),data:v.a.encode(t)}}));return S.forEach((function(e){gr(e.programIdIndex>=0),e.accounts.forEach((function(e){return gr(e>=0)}))})),new br({header:{numRequiredSignatures:y,numReadonlySignedAccounts:m,numReadonlyUnsignedAccounts:O},accountKeys:w,recentBlockhash:e,instructions:S})}},{key:"_compile",value:function(){var e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length&&this.signatures.every((function(e,r){return t[r].equals(e.publicKey)})))return e;return this.signatures=t.map((function(e){return{signature:null,publicKey:e}})),e}},{key:"serializeMessage",value:function(){return this._compile().serialize()}},{key:"getEstimatedFee",value:function(){var e=Object(c.a)(P().mark((function e(t){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getFeeForMessage(this.compileMessage());case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setSigners",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");var n=new Set;this.signatures=t.filter((function(e){var t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((function(e){return{signature:null,publicKey:e}}))}},{key:"sign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,i=[],o=0,a=t;o<a.length;o++){var s=a[o],c=s.publicKey.toString();n.has(c)||(n.add(c),i.push(s))}this.signatures=i.map((function(e){return{signature:null,publicKey:e.publicKey}}));var u=this._compile();this._partialSign.apply(this,[u].concat(i))}},{key:"partialSign",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");for(var n=new Set,i=[],o=0,a=t;o<a.length;o++){var s=a[o],c=s.publicKey.toString();n.has(c)||(n.add(c),i.push(s))}var u=this._compile();this._partialSign.apply(this,[u].concat(i))}},{key:"_partialSign",value:function(e){for(var t=this,r=e.serialize(),n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];i.forEach((function(e){var n=p.a.sign.detached(r,e.secretKey);t._addSignature(e.publicKey,x(n))}))}},{key:"addSignature",value:function(e,t){this._compile(),this._addSignature(e,t)}},{key:"_addSignature",value:function(e,t){gr(64===t.length);var r=this.signatures.findIndex((function(t){return e.equals(t.publicKey)}));if(r<0)throw new Error("unknown signer: ".concat(e.toString()));this.signatures[r].signature=b.Buffer.from(t)}},{key:"verifySignatures",value:function(){return this._verifySignatures(this.serializeMessage(),!0)}},{key:"_verifySignatures",value:function(e,t){var r,n=Object(i.a)(this.signatures);try{for(n.s();!(r=n.n()).done;){var o=r.value,a=o.signature,s=o.publicKey;if(null===a){if(t)return!1}else if(!p.a.sign.detached.verify(e,a,s.toBuffer()))return!1}}catch(c){n.e(c)}finally{n.f()}return!0}},{key:"serialize",value:function(e){var t=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=t.requireAllSignatures,n=t.verifySignatures,i=this.serializeMessage();if(n&&!this._verifySignatures(i,r))throw new Error("Signature verification failed");return this._serialize(i)}},{key:"_serialize",value:function(e){var t=this.signatures,r=[];fr(r,t.length);var n=r.length+64*t.length+e.length,i=b.Buffer.alloc(n);return gr(t.length<256),b.Buffer.from(r).copy(i,0),t.forEach((function(e,t){var n=e.signature;null!==n&&(gr(64===n.length,"signature has invalid length"),b.Buffer.from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),gr(i.length<=1232,"Transaction too large: ".concat(i.length," > ").concat(1232)),i}},{key:"keys",get:function(){return gr(1===this.instructions.length),this.instructions[0].keys.map((function(e){return e.pubkey}))}},{key:"programId",get:function(){return gr(1===this.instructions.length),this.instructions[0].programId}},{key:"data",get:function(){return gr(1===this.instructions.length),this.instructions[0].data}}],[{key:"from",value:function(t){for(var r=Object(s.a)(t),n=dr(r),i=[],o=0;o<n;o++){var a=r.slice(0,64);r=r.slice(64),i.push(v.a.encode(b.Buffer.from(a)))}return e.populate(br.from(r),i)}},{key:"populate",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new e;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),r.forEach((function(e,r){var i={signature:e==v.a.encode(yr)?null:v.a.decode(e),publicKey:t.accountKeys[r]};n.signatures.push(i)})),t.instructions.forEach((function(e){var r=e.accounts.map((function(e){var r=t.accountKeys[e];return{pubkey:r,isSigner:n.signatures.some((function(e){return e.publicKey.toString()===r.toString()}))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));n.instructions.push(new mr({keys:r,programId:t.accountKeys[e.programIdIndex],data:v.a.decode(e.data)}))})),n._message=t,n._json=n.toJSON(),n}}]),e}(),Or=Object.freeze({Create:{index:0,layout:k.struct([k.u32("instruction"),k.ns64("lamports"),k.ns64("space"),$t("programId")])},Assign:{index:1,layout:k.struct([k.u32("instruction"),$t("programId")])},Transfer:{index:2,layout:k.struct([k.u32("instruction"),nr("lamports")])},CreateWithSeed:{index:3,layout:k.struct([k.u32("instruction"),$t("base"),er("seed"),k.ns64("lamports"),k.ns64("space"),$t("programId")])},AdvanceNonceAccount:{index:4,layout:k.struct([k.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:k.struct([k.u32("instruction"),k.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:k.struct([k.u32("instruction"),$t("authorized")])},AuthorizeNonceAccount:{index:7,layout:k.struct([k.u32("instruction"),$t("authorized")])},Allocate:{index:8,layout:k.struct([k.u32("instruction"),k.ns64("space")])},AllocateWithSeed:{index:9,layout:k.struct([k.u32("instruction"),$t("base"),er("seed"),k.ns64("space"),$t("programId")])},AssignWithSeed:{index:10,layout:k.struct([k.u32("instruction"),$t("base"),er("seed"),$t("programId")])},TransferWithSeed:{index:11,layout:k.struct([k.u32("instruction"),nr("lamports"),er("seed"),$t("programId")])},UpgradeNonceAccount:{index:12,layout:k.struct([k.u32("instruction")])}}),jr=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,null,[{key:"createAccount",value:function(e){var t=ir(Or.Create,{lamports:e.lamports,space:e.space,programId:x(e.programId.toBuffer())});return new mr({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}},{key:"transfer",value:function(e){var t,r;"basePubkey"in e?(t=ir(Or.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:x(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]):(t=ir(Or.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]);return new mr({keys:r,programId:this.programId,data:t})}},{key:"assign",value:function(e){var t,r;"basePubkey"in e?(t=ir(Or.AssignWithSeed,{base:x(e.basePubkey.toBuffer()),seed:e.seed,programId:x(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=ir(Or.Assign,{programId:x(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]);return new mr({keys:r,programId:this.programId,data:t})}},{key:"createAccountWithSeed",value:function(e){var t=ir(Or.CreateWithSeed,{base:x(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:x(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new mr({keys:r,programId:this.programId,data:t})}},{key:"createNonceAccount",value:function(t){var r=new vr;"basePubkey"in t&&"seed"in t?r.add(e.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:sr,programId:this.programId})):r.add(e.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:sr,programId:this.programId}));var n={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}},{key:"nonceInitialize",value:function(e){var t=ir(Or.InitializeNonceAccount,{authorized:x(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:lr,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new mr(r)}},{key:"nonceAdvance",value:function(e){var t=ir(Or.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new mr(r)}},{key:"nonceWithdraw",value:function(e){var t=ir(Or.WithdrawNonceAccount,{lamports:e.lamports});return new mr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"nonceAuthorize",value:function(e){var t=ir(Or.AuthorizeNonceAccount,{authorized:x(e.newAuthorizedPubkey.toBuffer())});return new mr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}},{key:"allocate",value:function(e){var t,r;"basePubkey"in e?(t=ir(Or.AllocateWithSeed,{base:x(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:x(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]):(t=ir(Or.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]);return new mr({keys:r,programId:this.programId,data:t})}}]),e}();jr.programId=new Vt("11111111111111111111111111111111");var kr=Object.freeze({CreateLookupTable:{index:0,layout:k.struct([k.u32("instruction"),nr("recentSlot"),k.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:k.struct([k.u32("instruction")])},ExtendLookupTable:{index:2,layout:k.struct([k.u32("instruction"),nr(),k.seq($t(),k.offset(k.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:k.struct([k.u32("instruction")])},CloseLookupTable:{index:4,layout:k.struct([k.u32("instruction")])}}),wr=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,null,[{key:"createLookupTable",value:function(e){var t=Vt.findProgramAddressSync([e.authority.toBuffer(),Object(j.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),r=Object(o.a)(t,2),n=r[0],i=r[1],a=ir(kr.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:i}),s=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:jr.programId,isSigner:!1,isWritable:!1}];return[new mr({programId:this.programId,keys:s,data:a}),n]}},{key:"freezeLookupTable",value:function(e){var t=ir(kr.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new mr({programId:this.programId,keys:r,data:t})}},{key:"extendLookupTable",value:function(e){var t=ir(kr.ExtendLookupTable,{addresses:e.addresses.map((function(e){return e.toBytes()}))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:jr.programId,isSigner:!1,isWritable:!1}),new mr({programId:this.programId,keys:r,data:t})}},{key:"deactivateLookupTable",value:function(e){var t=ir(kr.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new mr({programId:this.programId,keys:r,data:t})}},{key:"closeLookupTable",value:function(e){var t=ir(kr.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new mr({programId:this.programId,keys:r,data:t})}}]),e}();wr.programId=new Vt("AddressLookupTab1e1111111111111111111111111");new Vt("BPFLoader1111111111111111111111111111111111");function Sr(e,t,r,n){return Ir.apply(this,arguments)}function Ir(){return(Ir=Object(c.a)(P().mark((function e(t,r,n,i){var o,a,s;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},e.next=3,t.sendTransaction(r,n,o);case 3:if(a=e.sent,null==r.recentBlockhash||null==r.lastValidBlockHeight){e.next=10;break}return e.next=7,t.confirmTransaction({signature:a,blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight},i&&i.commitment);case 7:e.t0=e.sent.value,e.next=13;break;case 10:return e.next=12,t.confirmTransaction(a,i&&i.commitment);case 12:e.t0=e.sent.value;case 13:if(!(s=e.t0).err){e.next=16;break}throw new Error("Transaction ".concat(a," failed (").concat(JSON.stringify(s),")"));case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Er(e){return new Promise((function(t){return setTimeout(t,e)}))}var _r=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,null,[{key:"getMinNumSignatures",value:function(t){return 2*(Math.ceil(t/e.chunkSize)+1+1)}},{key:"load",value:function(){var t=Object(c.a)(P().mark((function t(r,n,i,o,a){var s,c,u,l,h,d,f,p,g,y,m,v,O,j;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getMinimumBalanceForRentExemption(a.length);case 2:return s=t.sent,t.next=5,r.getAccountInfo(i.publicKey,"confirmed");case 5:if(c=t.sent,u=null,null===c){t.next=16;break}if(!c.executable){t.next=11;break}return console.error("Program load failed, account is already executable"),t.abrupt("return",!1);case 11:c.data.length!==a.length&&(u=u||new vr).add(jr.allocate({accountPubkey:i.publicKey,space:a.length})),c.owner.equals(o)||(u=u||new vr).add(jr.assign({accountPubkey:i.publicKey,programId:o})),c.lamports<s&&(u=u||new vr).add(jr.transfer({fromPubkey:n.publicKey,toPubkey:i.publicKey,lamports:s-c.lamports})),t.next=17;break;case 16:u=(new vr).add(jr.createAccount({fromPubkey:n.publicKey,newAccountPubkey:i.publicKey,lamports:s>0?s:1,space:a.length,programId:o}));case 17:if(null===u){t.next=20;break}return t.next=20,Sr(r,u,[n,i],{commitment:"confirmed"});case 20:l=k.struct([k.u32("instruction"),k.u32("offset"),k.u32("bytesLength"),k.u32("bytesLengthPadding"),k.seq(k.u8("byte"),k.offset(k.u32(),-8),"bytes")]),h=e.chunkSize,d=0,f=a,p=[];case 25:if(!(f.length>0)){t.next=39;break}if(g=f.slice(0,h),y=b.Buffer.alloc(h+16),l.encode({instruction:0,offset:d,bytes:g,bytesLength:0,bytesLengthPadding:0},y),m=(new vr).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:y}),p.push(Sr(r,m,[n,i],{commitment:"confirmed"})),!r._rpcEndpoint.includes("solana.com")){t.next=35;break}return 4,t.next=35,Er(250);case 35:d+=h,f=f.slice(h),t.next=25;break;case 39:return t.next=41,Promise.all(p);case 41:return v=k.struct([k.u32("instruction")]),O=b.Buffer.alloc(v.span),v.encode({instruction:1},O),j=(new vr).add({keys:[{pubkey:i.publicKey,isSigner:!0,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1}],programId:o,data:O}),t.next=47,Sr(r,j,[n,i],{commitment:"confirmed"});case 47:return t.abrupt("return",!0);case 48:case"end":return t.stop()}}),t)})));return function(e,r,n,i,o){return t.apply(this,arguments)}}()}]),e}();_r.chunkSize=932;new Vt("BPFLoader2111111111111111111111111111111111");var Pr=Object.freeze({RequestUnits:{index:0,layout:k.struct([k.u8("instruction"),k.u32("units"),k.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:k.struct([k.u8("instruction"),k.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:k.struct([k.u8("instruction"),k.u32("units")])},SetComputeUnitPrice:{index:3,layout:k.struct([k.u8("instruction"),nr("microLamports")])}}),xr=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,null,[{key:"requestUnits",value:function(e){var t=ir(Pr.RequestUnits,e);return new mr({keys:[],programId:this.programId,data:t})}},{key:"requestHeapFrame",value:function(e){var t=ir(Pr.RequestHeapFrame,e);return new mr({keys:[],programId:this.programId,data:t})}},{key:"setComputeUnitLimit",value:function(e){var t=ir(Pr.SetComputeUnitLimit,e);return new mr({keys:[],programId:this.programId,data:t})}},{key:"setComputeUnitPrice",value:function(e){var t=ir(Pr.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new mr({keys:[],programId:this.programId,data:t})}}]),e}();xr.programId=new Vt("ComputeBudget111111111111111111111111111111");Object.prototype.toString,Object.keys;globalThis.URL;Error,Error,globalThis.fetch;var Ar=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(h.a)(this,r),(n=t.call(this,"Signature ".concat(e," has expired: block height exceeded."))).signature=void 0,n.signature=e,n}return Object(d.a)(r)}(Object(n.a)(Error));Object.defineProperty(Ar.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var Tr=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e,n){var i;return Object(h.a)(this,r),(i=t.call(this,"Transaction was not confirmed in ".concat(n.toFixed(2)," seconds. It is ")+"unknown if it succeeded or failed. Check signature "+"".concat(e," using the Solana Explorer or CLI tools."))).signature=void 0,i.signature=e,i}return Object(d.a)(r)}(Object(n.a)(Error));Object.defineProperty(Tr.prototype,"name",{value:"TransactionExpiredTimeoutError"});var Cr=Object(w.e)(Object(w.g)(Vt),Object(w.m)(),(function(e){return new Vt(e)})),Rr=Object(w.n)([Object(w.m)(),Object(w.h)("base64")]),Nr=Object(w.e)(Object(w.g)(b.Buffer),Rr,(function(e){return b.Buffer.from(e[0],"base64")}));function Lr(e){return Object(w.p)([Object(w.o)({jsonrpc:Object(w.h)("2.0"),id:Object(w.m)(),result:e}),Object(w.o)({jsonrpc:Object(w.h)("2.0"),id:Object(w.m)(),error:Object(w.o)({code:Object(w.q)(),message:Object(w.m)(),data:Object(w.k)(Object(w.a)())})})])}var Wr=Lr(Object(w.q)());function zr(e){return Object(w.e)(Lr(e),Wr,(function(t){return"error"in t?t:Object(a.a)(Object(a.a)({},t),{},{result:Object(w.f)(t.result,e)})}))}function Br(e){return zr(Object(w.o)({context:Object(w.o)({slot:Object(w.j)()}),value:e}))}function Ur(e){return Object(w.o)({context:Object(w.o)({slot:Object(w.j)()}),value:e})}var Dr=Object(w.o)({foundation:Object(w.j)(),foundationTerm:Object(w.j)(),initial:Object(w.j)(),taper:Object(w.j)(),terminal:Object(w.j)()}),qr=(zr(Object(w.b)(Object(w.i)(Object(w.o)({epoch:Object(w.j)(),effectiveSlot:Object(w.j)(),amount:Object(w.j)(),postBalance:Object(w.j)()})))),Object(w.o)({epoch:Object(w.j)(),slotIndex:Object(w.j)(),slotsInEpoch:Object(w.j)(),absoluteSlot:Object(w.j)(),blockHeight:Object(w.k)(Object(w.j)()),transactionCount:Object(w.k)(Object(w.j)())})),Kr=Object(w.o)({slotsPerEpoch:Object(w.j)(),leaderScheduleSlotOffset:Object(w.j)(),warmup:Object(w.d)(),firstNormalEpoch:Object(w.j)(),firstNormalSlot:Object(w.j)()}),Mr=Object(w.l)(Object(w.m)(),Object(w.b)(Object(w.j)())),Fr=Object(w.i)(Object(w.p)([Object(w.o)({}),Object(w.m)()])),Hr=Object(w.o)({err:Fr}),Gr=Object(w.h)("receivedSignature");Object(w.o)({"solana-core":Object(w.m)(),"feature-set":Object(w.k)(Object(w.j)())}),Br(Object(w.o)({err:Object(w.i)(Object(w.p)([Object(w.o)({}),Object(w.m)()])),logs:Object(w.i)(Object(w.b)(Object(w.m)())),accounts:Object(w.k)(Object(w.i)(Object(w.b)(Object(w.i)(Object(w.o)({executable:Object(w.d)(),owner:Object(w.m)(),lamports:Object(w.j)(),data:Object(w.b)(Object(w.m)()),rentEpoch:Object(w.k)(Object(w.j)())}))))),unitsConsumed:Object(w.k)(Object(w.j)()),returnData:Object(w.k)(Object(w.i)(Object(w.o)({programId:Object(w.m)(),data:Object(w.n)([Object(w.m)(),Object(w.h)("base64")])})))})),Br(Object(w.o)({byIdentity:Object(w.l)(Object(w.m)(),Object(w.b)(Object(w.j)())),range:Object(w.o)({firstSlot:Object(w.j)(),lastSlot:Object(w.j)()})}));zr(Dr),zr(qr),zr(Kr),zr(Mr),zr(Object(w.j)()),Br(Object(w.o)({total:Object(w.j)(),circulating:Object(w.j)(),nonCirculating:Object(w.j)(),nonCirculatingAccounts:Object(w.b)(Cr)}));var Vr=Object(w.o)({amount:Object(w.m)(),uiAmount:Object(w.i)(Object(w.j)()),decimals:Object(w.j)(),uiAmountString:Object(w.k)(Object(w.m)())}),Jr=(Br(Object(w.b)(Object(w.o)({address:Cr,amount:Object(w.m)(),uiAmount:Object(w.i)(Object(w.j)()),decimals:Object(w.j)(),uiAmountString:Object(w.k)(Object(w.m)())}))),Br(Object(w.b)(Object(w.o)({pubkey:Cr,account:Object(w.o)({executable:Object(w.d)(),owner:Cr,lamports:Object(w.j)(),data:Nr,rentEpoch:Object(w.j)()})}))),Object(w.o)({program:Object(w.m)(),parsed:Object(w.q)(),space:Object(w.j)()})),Xr=(Br(Object(w.b)(Object(w.o)({pubkey:Cr,account:Object(w.o)({executable:Object(w.d)(),owner:Cr,lamports:Object(w.j)(),data:Jr,rentEpoch:Object(w.j)()})}))),Br(Object(w.b)(Object(w.o)({lamports:Object(w.j)(),address:Cr}))),Object(w.o)({executable:Object(w.d)(),owner:Cr,lamports:Object(w.j)(),data:Nr,rentEpoch:Object(w.j)()})),Yr=(Object(w.o)({pubkey:Cr,account:Xr}),Object(w.e)(Object(w.p)([Object(w.g)(b.Buffer),Jr]),Object(w.p)([Rr,Jr]),(function(e){return Array.isArray(e)?Object(w.f)(e,Nr):e}))),Zr=Object(w.o)({executable:Object(w.d)(),owner:Cr,lamports:Object(w.j)(),data:Yr,rentEpoch:Object(w.j)()}),Qr=(Object(w.o)({pubkey:Cr,account:Zr}),Object(w.o)({state:Object(w.p)([Object(w.h)("active"),Object(w.h)("inactive"),Object(w.h)("activating"),Object(w.h)("deactivating")]),active:Object(w.j)(),inactive:Object(w.j)()}),zr(Object(w.b)(Object(w.o)({signature:Object(w.m)(),slot:Object(w.j)(),err:Fr,memo:Object(w.i)(Object(w.m)()),blockTime:Object(w.k)(Object(w.i)(Object(w.j)()))}))),zr(Object(w.b)(Object(w.o)({signature:Object(w.m)(),slot:Object(w.j)(),err:Fr,memo:Object(w.i)(Object(w.m)()),blockTime:Object(w.k)(Object(w.i)(Object(w.j)()))}))),Object(w.o)({subscription:Object(w.j)(),result:Ur(Xr)}),Object(w.o)({pubkey:Cr,account:Xr})),$r=(Object(w.o)({subscription:Object(w.j)(),result:Ur(Qr)}),Object(w.o)({parent:Object(w.j)(),slot:Object(w.j)(),root:Object(w.j)()})),en=(Object(w.o)({subscription:Object(w.j)(),result:$r}),Object(w.p)([Object(w.o)({type:Object(w.p)([Object(w.h)("firstShredReceived"),Object(w.h)("completed"),Object(w.h)("optimisticConfirmation"),Object(w.h)("root")]),slot:Object(w.j)(),timestamp:Object(w.j)()}),Object(w.o)({type:Object(w.h)("createdBank"),parent:Object(w.j)(),slot:Object(w.j)(),timestamp:Object(w.j)()}),Object(w.o)({type:Object(w.h)("frozen"),slot:Object(w.j)(),timestamp:Object(w.j)(),stats:Object(w.o)({numTransactionEntries:Object(w.j)(),numSuccessfulTransactions:Object(w.j)(),numFailedTransactions:Object(w.j)(),maxTransactionsPerEntry:Object(w.j)()})}),Object(w.o)({type:Object(w.h)("dead"),slot:Object(w.j)(),timestamp:Object(w.j)(),err:Object(w.m)()})])),tn=(Object(w.o)({subscription:Object(w.j)(),result:en}),Object(w.o)({subscription:Object(w.j)(),result:Ur(Object(w.p)([Hr,Gr]))}),Object(w.o)({subscription:Object(w.j)(),result:Object(w.j)()}),Object(w.o)({pubkey:Object(w.m)(),gossip:Object(w.i)(Object(w.m)()),tpu:Object(w.i)(Object(w.m)()),rpc:Object(w.i)(Object(w.m)()),version:Object(w.i)(Object(w.m)())}),Object(w.o)({votePubkey:Object(w.m)(),nodePubkey:Object(w.m)(),activatedStake:Object(w.j)(),epochVoteAccount:Object(w.d)(),epochCredits:Object(w.b)(Object(w.n)([Object(w.j)(),Object(w.j)(),Object(w.j)()])),commission:Object(w.j)(),lastVote:Object(w.j)(),rootSlot:Object(w.i)(Object(w.j)())})),rn=(zr(Object(w.o)({current:Object(w.b)(tn),delinquent:Object(w.b)(tn)})),Object(w.p)([Object(w.h)("processed"),Object(w.h)("confirmed"),Object(w.h)("finalized")])),nn=Object(w.o)({slot:Object(w.j)(),confirmations:Object(w.i)(Object(w.j)()),err:Fr,confirmationStatus:Object(w.k)(rn)}),on=(Br(Object(w.b)(Object(w.i)(nn))),zr(Object(w.j)()),Object(w.o)({signatures:Object(w.b)(Object(w.m)()),message:Object(w.o)({accountKeys:Object(w.b)(Object(w.m)()),header:Object(w.o)({numRequiredSignatures:Object(w.j)(),numReadonlySignedAccounts:Object(w.j)(),numReadonlyUnsignedAccounts:Object(w.j)()}),instructions:Object(w.b)(Object(w.o)({accounts:Object(w.b)(Object(w.j)()),data:Object(w.m)(),programIdIndex:Object(w.j)()})),recentBlockhash:Object(w.m)()})})),an=Object(w.o)({parsed:Object(w.q)(),program:Object(w.m)(),programId:Cr}),sn=Object(w.o)({accounts:Object(w.b)(Cr),data:Object(w.m)(),programId:Cr}),cn=Object(w.p)([sn,an]),un=Object(w.p)([Object(w.o)({parsed:Object(w.q)(),program:Object(w.m)(),programId:Object(w.m)()}),Object(w.o)({accounts:Object(w.b)(Object(w.m)()),data:Object(w.m)(),programId:Object(w.m)()})]),ln=Object(w.e)(cn,un,(function(e){return"accounts"in e?Object(w.f)(e,sn):Object(w.f)(e,an)})),hn=Object(w.o)({signatures:Object(w.b)(Object(w.m)()),message:Object(w.o)({accountKeys:Object(w.b)(Object(w.o)({pubkey:Cr,signer:Object(w.d)(),writable:Object(w.d)()})),instructions:Object(w.b)(ln),recentBlockhash:Object(w.m)()})}),dn=Object(w.o)({accountIndex:Object(w.j)(),mint:Object(w.m)(),owner:Object(w.k)(Object(w.m)()),uiTokenAmount:Vr}),fn=Object(w.o)({writable:Object(w.b)(Cr),readonly:Object(w.b)(Cr)}),pn=Object(w.o)({err:Fr,fee:Object(w.j)(),innerInstructions:Object(w.k)(Object(w.i)(Object(w.b)(Object(w.o)({index:Object(w.j)(),instructions:Object(w.b)(Object(w.o)({accounts:Object(w.b)(Object(w.j)()),data:Object(w.m)(),programIdIndex:Object(w.j)()}))})))),preBalances:Object(w.b)(Object(w.j)()),postBalances:Object(w.b)(Object(w.j)()),logMessages:Object(w.k)(Object(w.i)(Object(w.b)(Object(w.m)()))),preTokenBalances:Object(w.k)(Object(w.i)(Object(w.b)(dn))),postTokenBalances:Object(w.k)(Object(w.i)(Object(w.b)(dn))),loadedAddresses:Object(w.k)(fn)}),bn=Object(w.o)({err:Fr,fee:Object(w.j)(),innerInstructions:Object(w.k)(Object(w.i)(Object(w.b)(Object(w.o)({index:Object(w.j)(),instructions:Object(w.b)(ln)})))),preBalances:Object(w.b)(Object(w.j)()),postBalances:Object(w.b)(Object(w.j)()),logMessages:Object(w.k)(Object(w.i)(Object(w.b)(Object(w.m)()))),preTokenBalances:Object(w.k)(Object(w.i)(Object(w.b)(dn))),postTokenBalances:Object(w.k)(Object(w.i)(Object(w.b)(dn))),loadedAddresses:Object(w.k)(fn)}),gn=(zr(Object(w.i)(Object(w.o)({blockhash:Object(w.m)(),previousBlockhash:Object(w.m)(),parentSlot:Object(w.j)(),transactions:Object(w.b)(Object(w.o)({transaction:on,meta:Object(w.i)(pn)})),rewards:Object(w.k)(Object(w.b)(Object(w.o)({pubkey:Object(w.m)(),lamports:Object(w.j)(),postBalance:Object(w.i)(Object(w.j)()),rewardType:Object(w.i)(Object(w.m)())}))),blockTime:Object(w.i)(Object(w.j)()),blockHeight:Object(w.i)(Object(w.j)())}))),zr(Object(w.i)(Object(w.o)({blockhash:Object(w.m)(),previousBlockhash:Object(w.m)(),parentSlot:Object(w.j)(),transactions:Object(w.b)(Object(w.o)({transaction:on,meta:Object(w.i)(pn)})),rewards:Object(w.k)(Object(w.b)(Object(w.o)({pubkey:Object(w.m)(),lamports:Object(w.j)(),postBalance:Object(w.i)(Object(w.j)()),rewardType:Object(w.i)(Object(w.m)())}))),blockTime:Object(w.i)(Object(w.j)())}))),zr(Object(w.i)(Object(w.o)({blockhash:Object(w.m)(),previousBlockhash:Object(w.m)(),parentSlot:Object(w.j)(),signatures:Object(w.b)(Object(w.m)()),blockTime:Object(w.i)(Object(w.j)())}))),zr(Object(w.i)(Object(w.o)({slot:Object(w.j)(),meta:pn,blockTime:Object(w.k)(Object(w.i)(Object(w.j)())),transaction:on}))),zr(Object(w.i)(Object(w.o)({slot:Object(w.j)(),transaction:hn,meta:Object(w.i)(bn),blockTime:Object(w.k)(Object(w.i)(Object(w.j)()))}))),Br(Object(w.o)({blockhash:Object(w.m)(),feeCalculator:Object(w.o)({lamportsPerSignature:Object(w.j)()})})),Br(Object(w.o)({blockhash:Object(w.m)(),lastValidBlockHeight:Object(w.j)()})),Object(w.o)({slot:Object(w.j)(),numTransactions:Object(w.j)(),numSlots:Object(w.j)(),samplePeriodSecs:Object(w.j)()})),yn=(zr(Object(w.b)(gn)),Br(Object(w.i)(Object(w.o)({feeCalculator:Object(w.o)({lamportsPerSignature:Object(w.j)()})}))),zr(Object(w.m)()),zr(Object(w.m)()),Object(w.o)({err:Fr,logs:Object(w.b)(Object(w.m)()),signature:Object(w.m)()})),mn=(Object(w.o)({result:Ur(yn),subscription:Object(w.j)()}),"js/".concat(null!=="0.0.0-development"?"0.0.0-development":"UNKNOWN"),function(){function e(t){Object(h.a)(this,e),this._keypair=void 0,this._keypair=t||p.a.sign.keyPair()}return Object(d.a)(e,[{key:"publicKey",get:function(){return new Vt(this._keypair.publicKey)}},{key:"secretKey",get:function(){return this._keypair.secretKey}}],[{key:"generate",value:function(){return new e(p.a.sign.keyPair())}},{key:"fromSecretKey",value:function(t,r){var n=p.a.sign.keyPair.fromSecretKey(t);if(!r||!r.skipValidation){var i=(new TextEncoder).encode("@solana/web3.js-validation-v1"),o=p.a.sign.detached(i,n.secretKey);if(!p.a.sign.detached.verify(i,o,n.publicKey))throw new Error("provided secretKey is invalid")}return new e(n)}},{key:"fromSeed",value:function(t){return new e(p.a.sign.keyPair.fromSeed(t))}}]),e}()),vn=k.struct([k.u8("numSignatures"),k.u8("padding"),k.u16("signatureOffset"),k.u16("signatureInstructionIndex"),k.u16("publicKeyOffset"),k.u16("publicKeyInstructionIndex"),k.u16("messageDataOffset"),k.u16("messageDataSize"),k.u16("messageInstructionIndex")]);(function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,null,[{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,o=t.instructionIndex;gr(32===r.length,"Public Key must be ".concat(32," bytes but received ").concat(r.length," bytes")),gr(64===i.length,"Signature must be ".concat(64," bytes but received ").concat(i.length," bytes"));var a=vn.span,s=a+r.length,c=s+i.length,u=b.Buffer.alloc(c+n.length),l=null==o?65535:o;return vn.encode({numSignatures:1,padding:0,signatureOffset:s,signatureInstructionIndex:l,publicKeyOffset:a,publicKeyInstructionIndex:l,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:l},u),u.fill(r,a),u.fill(i,s),u.fill(n,c),new mr({keys:[],programId:e.programId,data:u})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;gr(64===t.length,"Private key must be ".concat(64," bytes but received ").concat(t.length," bytes"));try{var i=mn.fromSecretKey(t),o=i.publicKey.toBytes(),a=p.a.sign.detached(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:n})}catch(s){throw new Error("Error creating instruction; ".concat(s))}}}]),e}()).programId=new Vt("Ed25519SigVerify111111111111111111111111111");var On=new Vt("StakeConfig11111111111111111111111111111111"),jn=Object(d.a)((function e(t,r,n){Object(h.a)(this,e),this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=r,this.custodian=n}));jn.default=new jn(0,0,Vt.default);var kn=Object.freeze({Initialize:{index:0,layout:k.struct([k.u32("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return k.struct([$t("staker"),$t("withdrawer")],e)}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return k.struct([k.ns64("unixTimestamp"),k.ns64("epoch"),$t("custodian")],e)}()])},Authorize:{index:1,layout:k.struct([k.u32("instruction"),$t("newAuthorized"),k.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:k.struct([k.u32("instruction")])},Split:{index:3,layout:k.struct([k.u32("instruction"),k.ns64("lamports")])},Withdraw:{index:4,layout:k.struct([k.u32("instruction"),k.ns64("lamports")])},Deactivate:{index:5,layout:k.struct([k.u32("instruction")])},Merge:{index:7,layout:k.struct([k.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:k.struct([k.u32("instruction"),$t("newAuthorized"),k.u32("stakeAuthorizationType"),er("authoritySeed"),$t("authorityOwner")])}}),wn=(Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,null,[{key:"initialize",value:function(e){var t=e.stakePubkey,r=e.authorized,n=e.lockup||jn.default,i=ir(kn.Initialize,{authorized:{staker:x(r.staker.toBuffer()),withdrawer:x(r.withdrawer.toBuffer())},lockup:{unixTimestamp:n.unixTimestamp,epoch:n.epoch,custodian:x(n.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new mr(o)}},{key:"createAccountWithSeed",value:function(e){var t=new vr;t.add(jr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"createAccount",value:function(e){var t=new vr;t.add(jr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));var r=e.stakePubkey,n=e.authorized,i=e.lockup;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}},{key:"delegate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.votePubkey,i=ir(kn.Delegate);return(new vr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:On,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"authorize",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.stakeAuthorizationType,o=e.custodianPubkey,a=ir(kn.Authorize,{newAuthorized:x(n.toBuffer()),stakeAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&s.push({pubkey:o,isSigner:!1,isWritable:!1}),(new vr).add({keys:s,programId:this.programId,data:a})}},{key:"authorizeWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorityBase,n=e.authoritySeed,i=e.authorityOwner,o=e.newAuthorizedPubkey,a=e.stakeAuthorizationType,s=e.custodianPubkey,c=ir(kn.AuthorizeWithSeed,{newAuthorized:x(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:n,authorityOwner:x(i.toBuffer())}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:cr,isSigner:!1,isWritable:!1}];return s&&u.push({pubkey:s,isSigner:!1,isWritable:!1}),(new vr).add({keys:u,programId:this.programId,data:c})}},{key:"splitInstruction",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.lamports,o=ir(kn.Split,{lamports:i});return new mr({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}},{key:"split",value:function(e){var t=new vr;return t.add(jr.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}},{key:"splitWithSeed",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.splitStakePubkey,i=e.basePubkey,o=e.seed,a=e.lamports,s=new vr;return s.add(jr.allocate({accountPubkey:n,basePubkey:i,seed:o,space:this.space,programId:this.programId})),s.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:a}))}},{key:"merge",value:function(e){var t=e.stakePubkey,r=e.sourceStakePubKey,n=e.authorizedPubkey,i=ir(kn.Merge);return(new vr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}},{key:"withdraw",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=e.toPubkey,i=e.lamports,o=e.custodianPubkey,a=ir(kn.Withdraw,{lamports:i}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&s.push({pubkey:o,isSigner:!1,isWritable:!1}),(new vr).add({keys:s,programId:this.programId,data:a})}},{key:"deactivate",value:function(e){var t=e.stakePubkey,r=e.authorizedPubkey,n=ir(kn.Deactivate);return(new vr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}]),e}());wn.programId=new Vt("Stake11111111111111111111111111111111111111"),wn.space=200;var Sn=I.a.publicKeyCreate,In=I.a.ecdsaSign,En=k.struct([k.u8("numSignatures"),k.u16("signatureOffset"),k.u8("signatureInstructionIndex"),k.u16("ethAddressOffset"),k.u8("ethAddressInstructionIndex"),k.u16("messageDataOffset"),k.u16("messageDataSize"),k.u8("messageInstructionIndex"),k.blob(20,"ethAddress"),k.blob(64,"signature"),k.u8("recoveryId")]);(function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,null,[{key:"publicKeyToEthAddress",value:function(e){gr(64===e.length,"Public key must be ".concat(64," bytes but received ").concat(e.length," bytes"));try{return b.Buffer.from(_.a.keccak_256.update(x(e)).digest()).slice(-20)}catch(t){throw new Error("Error constructing Ethereum address: ".concat(t))}}},{key:"createInstructionWithPublicKey",value:function(t){var r=t.publicKey,n=t.message,i=t.signature,o=t.recoveryId,a=t.instructionIndex;return e.createInstructionWithEthAddress({ethAddress:e.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:o,instructionIndex:a})}},{key:"createInstructionWithEthAddress",value:function(t){var r,n=t.ethAddress,i=t.message,o=t.signature,a=t.recoveryId,s=t.instructionIndex,c=void 0===s?0:s;gr(20===(r="string"===typeof n?n.startsWith("0x")?b.Buffer.from(n.substr(2),"hex"):b.Buffer.from(n,"hex"):n).length,"Address must be ".concat(20," bytes but received ").concat(r.length," bytes"));var u=12+r.length,l=u+o.length+1,h=b.Buffer.alloc(En.span+i.length);return En.encode({numSignatures:1,signatureOffset:u,signatureInstructionIndex:c,ethAddressOffset:12,ethAddressInstructionIndex:c,messageDataOffset:l,messageDataSize:i.length,messageInstructionIndex:c,signature:x(o),ethAddress:x(r),recoveryId:a},h),h.fill(x(i),En.span),new mr({keys:[],programId:e.programId,data:h})}},{key:"createInstructionWithPrivateKey",value:function(e){var t=e.privateKey,r=e.message,n=e.instructionIndex;gr(32===t.length,"Private key must be ".concat(32," bytes but received ").concat(t.length," bytes"));try{var i=x(t),o=Sn(i,!1).slice(1),a=b.Buffer.from(_.a.keccak_256.update(x(r)).digest()),s=In(a,i),c=s.signature,u=s.recid;return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:n})}catch(l){throw new Error("Error creating instruction; ".concat(l))}}}]),e}()).programId=new Vt("KeccakSecp256k11111111111111111111111111111");new Vt("Va1idator1nfo111111111111111111111111111111"),Object(w.o)({name:Object(w.m)(),website:Object(w.k)(Object(w.m)()),details:Object(w.k)(Object(w.m)()),keybaseUsername:Object(w.k)(Object(w.m)())}),new Vt("Vote111111111111111111111111111111111111111"),k.struct([$t("nodePubkey"),$t("authorizedWithdrawer"),k.u8("commission"),k.nu64(),k.seq(k.struct([k.nu64("slot"),k.u32("confirmationCount")]),k.offset(k.u32(),-8),"votes"),k.u8("rootSlotValid"),k.nu64("rootSlot"),k.nu64(),k.seq(k.struct([k.nu64("epoch"),$t("authorizedVoter")]),k.offset(k.u32(),-8),"authorizedVoters"),k.struct([k.seq(k.struct([$t("authorizedPubkey"),k.nu64("epochOfLastAuthorizedSwitch"),k.nu64("targetEpoch")]),32,"buf"),k.nu64("idx"),k.u8("isEmpty")],"priorVoters"),k.nu64(),k.seq(k.struct([k.nu64("epoch"),k.nu64("credits"),k.nu64("prevCredits")]),k.offset(k.u32(),-8),"epochCredits"),k.struct([k.nu64("slot"),k.nu64("timestamp")],"lastTimestamp")]);var _n=Object.freeze({InitializeAccount:{index:0,layout:k.struct([k.u32("instruction"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return k.struct([$t("nodePubkey"),$t("authorizedVoter"),$t("authorizedWithdrawer"),k.u8("commission")],e)}()])},Authorize:{index:1,layout:k.struct([k.u32("instruction"),$t("newAuthorized"),k.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:k.struct([k.u32("instruction"),k.ns64("lamports")])}}),Pn=(Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,null,[{key:"initializeAccount",value:function(e){var t=e.votePubkey,r=e.nodePubkey,n=e.voteInit,i=ir(_n.InitializeAccount,{voteInit:{nodePubkey:x(n.nodePubkey.toBuffer()),authorizedVoter:x(n.authorizedVoter.toBuffer()),authorizedWithdrawer:x(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new mr(o)}},{key:"createAccount",value:function(e){var t=new vr;return t.add(jr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}},{key:"authorize",value:function(e){var t=e.votePubkey,r=e.authorizedPubkey,n=e.newAuthorizedPubkey,i=e.voteAuthorizationType,o=ir(_n.Authorize,{newAuthorized:x(n.toBuffer()),voteAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new vr).add({keys:a,programId:this.programId,data:o})}},{key:"withdraw",value:function(e){var t=e.votePubkey,r=e.authorizedWithdrawerPubkey,n=e.lamports,i=e.toPubkey,o=ir(_n.Withdraw,{lamports:n}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new vr).add({keys:a,programId:this.programId,data:o})}}]),e}());Pn.programId=new Vt("Vote111111111111111111111111111111111111111"),Pn.space=3731},2268:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;var n=r(2011);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});var i=r(2079);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}});var o=r(2269);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}});var a=r(2012);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})},2269:function(e,t,r){"use strict";var n=r(147);Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;var i=r(2011),o=r(2079),a=r(2012);function s(e,t){var r=u(t),a=n(r,2),s=a[0],c=a[1];return new i.EthereumRpcError(e,s||o.getMessageFromCode(e),c)}function c(e,t){var r=u(t),a=n(r,2),s=a[0],c=a[1];return new i.EthereumProviderError(e,s||o.getMessageFromCode(e),c)}function u(e){if(e){if("string"===typeof e)return[e];if("object"===typeof e&&!Array.isArray(e)){var t=e.message,r=e.data;if(t&&"string"!==typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:function(e){return s(a.errorCodes.rpc.parse,e)},invalidRequest:function(e){return s(a.errorCodes.rpc.invalidRequest,e)},invalidParams:function(e){return s(a.errorCodes.rpc.invalidParams,e)},methodNotFound:function(e){return s(a.errorCodes.rpc.methodNotFound,e)},internal:function(e){return s(a.errorCodes.rpc.internal,e)},server:function(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");var t=e.code;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return s(t,e)},invalidInput:function(e){return s(a.errorCodes.rpc.invalidInput,e)},resourceNotFound:function(e){return s(a.errorCodes.rpc.resourceNotFound,e)},resourceUnavailable:function(e){return s(a.errorCodes.rpc.resourceUnavailable,e)},transactionRejected:function(e){return s(a.errorCodes.rpc.transactionRejected,e)},methodNotSupported:function(e){return s(a.errorCodes.rpc.methodNotSupported,e)},limitExceeded:function(e){return s(a.errorCodes.rpc.limitExceeded,e)}},provider:{userRejectedRequest:function(e){return c(a.errorCodes.provider.userRejectedRequest,e)},unauthorized:function(e){return c(a.errorCodes.provider.unauthorized,e)},unsupportedMethod:function(e){return c(a.errorCodes.provider.unsupportedMethod,e)},disconnected:function(e){return c(a.errorCodes.provider.disconnected,e)},chainDisconnected:function(e){return c(a.errorCodes.provider.chainDisconnected,e)},custom:function(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");var t=e.code,r=e.message,n=e.data;if(!r||"string"!==typeof r)throw new Error('"message" must be a nonempty string');return new i.EthereumProviderError(t,r,n)}}}},2376:function(e,t,r){"use strict";r.r(t),r.d(t,"SolanaWalletAdapter",(function(){return A}));var n=r(33),i=r.n(n),o=r(79),a=r.n(o),s=r(80),c=r.n(s),u=r(35),l=r.n(u),h=r(664),d=r.n(h),f=r(115),p=r.n(f),b=r(128),g=r.n(b),y=r(65),m=r.n(y),v=r(25),O=r.n(v),j=r(22),k=r.n(j),w=r(2245),S=r(18),I=r(2013),E=r(2016);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var i=m()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g()(this,r)}}var A=function(e){p()(r,e);var t=x(r);function r(e){var n;return a()(this,r),n=t.call(this,e),O()(l()(n),"name",S.j.TORUS_SOLANA),O()(l()(n),"adapterNamespace",S.c.SOLANA),O()(l()(n),"currentChainNamespace",S.g.SOLANA),O()(l()(n),"type",S.a.EXTERNAL),O()(l()(n),"status",S.d.NOT_READY),O()(l()(n),"torusInstance",null),O()(l()(n),"torusWalletOptions",void 0),O()(l()(n),"initParams",void 0),O()(l()(n),"loginSettings",{}),O()(l()(n),"solanaProvider",null),O()(l()(n),"rehydrated",!1),n.torusWalletOptions=e.adapterSettings||{},n.initParams=e.initParams||{},n.loginSettings=e.loginSettings||{},n.chainConfig=e.chainConfig||null,n.sessionTime=e.sessionTime||86400,n}return c()(r,[{key:"provider",get:function(){var e;return this.status===S.d.CONNECTED&&this.solanaProvider&&(null===(e=this.solanaProvider)||void 0===e?void 0:e.provider)||null},set:function(e){throw new Error("Not implemented")}},{key:"init",value:function(){var e=i()(k.a.mark((function e(t){var n,i,o,a,s,c,u,l,h,f,p,b,g,y,v;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d()(m()(r.prototype),"checkInitializationRequirements",this).call(this),this.chainConfig?(h=this.chainConfig,f=h.chainId,p=h.blockExplorer,b=h.displayName,g=h.rpcTarget,y=h.ticker,v=h.tickerName,n={chainId:f,rpcTarget:g,blockExplorerUrl:p,displayName:b,tickerName:v,ticker:y,logo:""}):(this.chainConfig=Object(S.p)(S.g.SOLANA,"0x1"),i=this.chainConfig,o=i.blockExplorer,a=i.displayName,s=i.ticker,c=i.tickerName,u=i.rpcTarget,l=i.chainId,n={chainId:l,rpcTarget:u,blockExplorerUrl:o,displayName:a,ticker:s,tickerName:c,logo:""}),this.torusInstance=new w.a(this.torusWalletOptions),S.s.debug("initializing torus solana adapter init"),e.next=6,this.torusInstance.init(P(P({showTorusButton:!1},this.initParams),{},{network:n}));case 6:if(this.solanaProvider=new E.TorusInjectedProvider({config:{chainConfig:this.chainConfig}}),this.status=S.d.READY,this.emit(S.b.READY,S.j.TORUS_SOLANA),e.prev=9,S.s.debug("initializing torus solana adapter"),!t.autoConnect){e.next=15;break}return this.rehydrated=!0,e.next=15,this.connect();case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(9),S.s.error("Failed to connect with cached torus solana provider",e.t0),this.emit(S.b.ERRORED,e.t0);case 21:case"end":return e.stop()}}),e,this,[[9,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=i()(k.a.mark((function e(){var t,n,i,o,a,s,c,u,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d()(m()(r.prototype),"checkConnectionRequirements",this).call(this),this.torusInstance){e.next=3;break}throw S.k.notReady("Torus wallet is not initialized");case 3:if(this.solanaProvider){e.next=5;break}throw S.k.notReady("Torus wallet is not initialized");case 5:return this.status=S.d.CONNECTING,this.emit(S.b.CONNECTING,{adapter:S.j.TORUS_SOLANA}),e.prev=7,e.next=10,this.torusInstance.login(this.loginSettings);case 10:return e.prev=10,(t=this.torusInstance.provider).sendTransaction=this.torusInstance.sendTransaction.bind(this.torusInstance),t.signAllTransactions=this.torusInstance.signAllTransactions.bind(this.torusInstance),t.signMessage=this.torusInstance.signMessage.bind(this.torusInstance),t.signTransaction=this.torusInstance.signTransaction.bind(this.torusInstance),e.next=18,this.solanaProvider.setupProvider(t);case 18:e.next=30;break;case 20:if(e.prev=20,e.t0=e.catch(10),!(e.t0 instanceof S.m&&5010===e.t0.code)){e.next=29;break}return n=this.chainConfig,i=n.chainId,o=n.blockExplorer,a=n.displayName,s=n.rpcTarget,c=n.ticker,u=n.tickerName,l={chainId:i,rpcTarget:s,blockExplorerUrl:o,displayName:a,tickerName:u,ticker:c,logo:""},e.next=27,this.torusInstance.setProvider(l);case 27:e.next=30;break;case 29:throw e.t0;case 30:return this.status=S.d.CONNECTED,this.torusInstance.showTorusButton(),this.emit(S.d.CONNECTED,{adapter:S.j.TORUS_SOLANA,reconnected:this.rehydrated}),e.abrupt("return",this.provider);case 36:throw e.prev=36,e.t1=e.catch(7),this.status=S.d.READY,this.rehydrated=!1,this.emit(S.b.ERRORED,e.t1),S.l.connectionError("Failed to login with torus solana wallet");case 42:case"end":return e.stop()}}),e,this,[[7,36],[10,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=i()(k.a.mark((function e(){var t,n=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{cleanup:!1},this.torusInstance){e.next=3;break}throw S.k.notReady("Torus wallet is not initialized");case 3:return e.next=5,d()(m()(r.prototype),"disconnect",this).call(this);case 5:return e.next=7,this.torusInstance.logout();case 7:t.cleanup?(this.status=S.d.NOT_READY,this.torusInstance=null,this.solanaProvider=null):this.status=S.d.READY,this.emit(S.b.DISCONNECTED);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(){var e=i()(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===S.d.CONNECTED){e.next=2;break}throw S.l.notConnectedError("Not connected with wallet");case 2:if(this.torusInstance){e.next=4;break}throw S.k.notReady("Torus wallet is not initialized");case 4:return e.next=6,this.torusInstance.getUserInfo();case 6:return t=e.sent,e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setAdapterSettings",value:function(e){this.status!==S.d.READY&&(null!==e&&void 0!==e&&e.sessionTime&&(this.sessionTime=e.sessionTime),null!==e&&void 0!==e&&e.clientId&&(this.clientId=e.clientId))}}]),r}(I.a)}}]);
//# sourceMappingURL=14.bd46972e.chunk.js.map